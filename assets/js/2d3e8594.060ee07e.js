"use strict";(self.webpackChunkweb_study=self.webpackChunkweb_study||[]).push([[369],{3905:(e,n,t)=>{t.d(n,{Zo:()=>o,kt:()=>k});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},o=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),d=p(t),m=r,k=d["".concat(l,".").concat(m)]||d[m]||u[m]||s;return t?a.createElement(k,c(c({ref:n},o),{},{components:t})):a.createElement(k,c({ref:n},o))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,c=new Array(s);c[0]=m;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[d]="string"==typeof e?e:r,c[1]=i;for(var p=2;p<s;p++)c[p]=t[p];return a.createElement.apply(null,c)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},2746:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var a=t(7462),r=(t(7294),t(3905));const s={},c=void 0,i={unversionedId:"WorkSidebar/React\u9879\u76ee\u6784\u5efa",id:"WorkSidebar/React\u9879\u76ee\u6784\u5efa",title:"React\u9879\u76ee\u6784\u5efa",description:"\u521d\u59cb\u5316\u9879\u76ee\u7a7a\u95f4",source:"@site/docs/WorkSidebar/React\u9879\u76ee\u6784\u5efa.md",sourceDirName:"WorkSidebar",slug:"/WorkSidebar/React\u9879\u76ee\u6784\u5efa",permalink:"/docs/WorkSidebar/React\u9879\u76ee\u6784\u5efa",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"WorkSidebar",previous:{title:"Webpack\u4e13\u9898",permalink:"/docs/WorkSidebar/Webpack\u4e13\u9898"},next:{title:"\u5b89\u88c5\u4e0e\u4f7f\u7528",permalink:"/docs/WorkSidebar/\u9879\u76ee\u5b89\u88c5TypeScript\u548c\u914d\u7f6e"}},l={},p=[{value:"\u521d\u59cb\u5316\u9879\u76ee\u7a7a\u95f4",id:"\u521d\u59cb\u5316\u9879\u76ee\u7a7a\u95f4",level:2},{value:"\u5b89\u88c5 webpack \u548c react \u76f8\u5173\u4f9d\u8d56\u6587\u4ef6",id:"\u5b89\u88c5-webpack-\u548c-react-\u76f8\u5173\u4f9d\u8d56\u6587\u4ef6",level:2},{value:"\u5728 src \u76ee\u5f55\u914d\u7f6e index.js \u6587\u4ef6",id:"\u5728-src-\u76ee\u5f55\u914d\u7f6e-indexjs-\u6587\u4ef6",level:2},{value:"\u5728 src \u76ee\u5f55\u914d\u7f6e index.html \u6587\u4ef6",id:"\u5728-src-\u76ee\u5f55\u914d\u7f6e-indexhtml-\u6587\u4ef6",level:2},{value:"\u914d\u7f6e config \u4e2d webpack \u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e-config-\u4e2d-webpack-\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u65b0\u5efa webpack.base.conf.js \u6587\u4ef6\uff0c\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003",id:"\u65b0\u5efa-webpackbaseconfjs-\u6587\u4ef6\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003",level:5},{value:"\u65b0\u5efa webpack.deve.conf.js \u6587\u4ef6\uff0c\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003",id:"\u65b0\u5efa-webpackdeveconfjs-\u6587\u4ef6\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003",level:5},{value:"\u65b0\u5efa webpack.prod.conf.js \u6587\u4ef6",id:"\u65b0\u5efa-webpackprodconfjs-\u6587\u4ef6",level:5},{value:"\u65b0\u5efa.babelrc \u6587\u4ef6",id:"\u65b0\u5efababelrc-\u6587\u4ef6",level:2},{value:"\u4fee\u6539 package.json \u4e2d\u7684 script \u4ee3\u7801",id:"\u4fee\u6539-packagejson-\u4e2d\u7684-script-\u4ee3\u7801",level:2},{value:"\u6b64\u65f6\uff0cpackage.json \u4e2d\u90e8\u5206\u4ee3\u7801\u5982\u4e0b",id:"\u6b64\u65f6packagejson-\u4e2d\u90e8\u5206\u4ee3\u7801\u5982\u4e0b",level:2},{value:"\u5728\u9879\u76ee\u4e2d\u6dfb\u52a0\u4ee3\u7801\u89c4\u8303\u68c0\u6d4b",id:"\u5728\u9879\u76ee\u4e2d\u6dfb\u52a0\u4ee3\u7801\u89c4\u8303\u68c0\u6d4b",level:2},{value:"\u65b0\u589e\u5982\u4e0b\u6587\u4ef6\uff08\u7528\u4e8e\u89c4\u8303\u9879\u76ee\u7ec4\u4ee3\u7801\uff09",id:"\u65b0\u589e\u5982\u4e0b\u6587\u4ef6\u7528\u4e8e\u89c4\u8303\u9879\u76ee\u7ec4\u4ee3\u7801",level:2},{value:".eslintrc.js \u6587\u4ef6",id:"eslintrcjs-\u6587\u4ef6",level:5},{value:".eslintignore \u6587\u4ef6",id:"eslintignore-\u6587\u4ef6",level:5},{value:".prettierrc.js \u6587\u4ef6",id:"prettierrcjs-\u6587\u4ef6",level:5},{value:".prettierignore \u6587\u4ef6",id:"prettierignore-\u6587\u4ef6",level:5},{value:".stylelintrc.js \u6587\u4ef6",id:"stylelintrcjs-\u6587\u4ef6",level:5},{value:"\u66ff\u6362 package.json \u4e2d\u547d\u4ee4",id:"\u66ff\u6362-packagejson-\u4e2d\u547d\u4ee4",level:2},{value:"\u5b89\u88c5 cross-env\uff08\u8fd0\u884c\u8de8\u5e73\u53f0\u8bbe\u7f6e\u548c\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u7684\u811a\u672c\uff09",id:"\u5b89\u88c5-cross-env\u8fd0\u884c\u8de8\u5e73\u53f0\u8bbe\u7f6e\u548c\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u7684\u811a\u672c",level:2},{value:"\u6dfb\u52a0\u63d0\u4ea4\u524d\u68c0\u6d4b",id:"\u6dfb\u52a0\u63d0\u4ea4\u524d\u68c0\u6d4b",level:2},{value:"package.json \u65b0\u589e\u5982\u4e0b\u4ee3\u7801",id:"packagejson-\u65b0\u589e\u5982\u4e0b\u4ee3\u7801",level:2}],o={toc:p},d="wrapper";function u(e){let{components:n,...t}=e;return(0,r.kt)(d,(0,a.Z)({},o,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("a",{name:"IUrEH"}),(0,r.kt)("h1",{id:"1\u811a\u624b\u67b6\u5f00\u5c40"},"1\u3001\u811a\u624b\u67b6\u5f00\u5c40"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"\u5168\u5c40\u5b89\u88c5create-react-app\uff1a\n$ npm install -g create-react-app\n\n\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a\n$ create-react-app your-app \u6ce8\u610f\u547d\u540d\u65b9\u5f0f\n\nCreating a new React app in /dir/your-app.\n\n\u5982\u679c\u4e0d\u60f3\u5168\u5c40\u5b89\u88c5\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528npx\uff1a\n$ npx create-react-app your-app \u4e5f\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u7684\u6548\u679c\n")),(0,r.kt)("a",{name:"OTXpV"}),(0,r.kt)("h1",{id:"20-1-\u624b\u64b8-webpack-\u5f00\u5c40"},"2\u30010-1 \u624b\u64b8 webpack \u5f00\u5c40"),(0,r.kt)("a",{name:"I70F6"}),(0,r.kt)("h2",{id:"\u521d\u59cb\u5316\u9879\u76ee\u7a7a\u95f4"},"\u521d\u59cb\u5316\u9879\u76ee\u7a7a\u95f4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\u76ee\u5f55\uff0c\u5728\u76ee\u5f55\u4e0b\u6267\u884c\uff1anpm init -y\n\u6b64\u65f6\u5c06\u4f1a\u751f\u6210 package.json \u6587\u4ef6\n\u4e4b\u540e\u65b0\u5efa src\u3001config\uff08\u914d\u7f6ewebpack\uff09\u6587\u4ef6\u5939\uff0c\u65b0\u5efaindex.html\u6587\u4ef6\n")),(0,r.kt)("a",{name:"QFMdQ"}),(0,r.kt)("h2",{id:"\u5b89\u88c5-webpack-\u548c-react-\u76f8\u5173\u4f9d\u8d56\u6587\u4ef6"},"\u5b89\u88c5 webpack \u548c react \u76f8\u5173\u4f9d\u8d56\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm i webpack webpack-cli webpack-dev-server html-webpack-plugin babel-loader path -D\nnpm i react react-dom\n")),(0,r.kt)("a",{name:"Ix2VM"}),(0,r.kt)("h2",{id:"\u5728-src-\u76ee\u5f55\u914d\u7f6e-indexjs-\u6587\u4ef6"},"\u5728 src \u76ee\u5f55\u914d\u7f6e index.js \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import React from "react";\nimport ReactDOM from "react-dom";\n\nReactDOM.render(\n  <React.StrictMode>\n    <div>\u4f60\u597d\uff0cReact-webpack5-template</div>\n  </React.StrictMode>,\n  document.getElementById("root")\n);\n')),(0,r.kt)("a",{name:"wmaHZ"}),(0,r.kt)("h2",{id:"\u5728-src-\u76ee\u5f55\u914d\u7f6e-indexhtml-\u6587\u4ef6"},"\u5728 src \u76ee\u5f55\u914d\u7f6e index.html \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>react-app</title>\n  </head>\n  <body>\n    <div id="app"></div>\n  </body>\n</html>\n')),(0,r.kt)("a",{name:"YcSXj"}),(0,r.kt)("h2",{id:"\u914d\u7f6e-config-\u4e2d-webpack-\u914d\u7f6e\u6587\u4ef6"},"\u914d\u7f6e config \u4e2d webpack \u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("a",{name:"mB2NQ"}),(0,r.kt)("h5",{id:"\u65b0\u5efa-webpackbaseconfjs-\u6587\u4ef6\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003"},"\u65b0\u5efa webpack.base.conf.js \u6587\u4ef6\uff0c\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'"use strict";\nconst path = require("path");\nconst webpack = require("webpack");\nconst HtmlWebpackPlugin = require("html-webpack-plugin");\n\nmodule.exports = {\n  // \u5165\u53e3\u8d77\u70b9\n  entry: {\n    app: "./src/index.js",\n  },\n  // \u8f93\u51fa\n  output: {\n    path: path.resolve(__dirname, "../dist"),\n    filename: "[name].js",\n  },\n  // \u89e3\u6790\n  resolve: {\n    extensions: [".ts", ".tsx", ".js", ".json"],\n    alias: {\n      "@components": path.join(__dirname, "../src/components"),\n      "@utils": path.join(__dirname, "../src/utils"),\n      "@pages": path.join(__dirname, "../src/pages"),\n    },\n  },\n  // loader\n  module: {\n    rules: [\n      {\n        test: /\\.js|jsx$/,\n        exclude: /(node_modules|bower_components)/, // \u5c4f\u853d\u4e0d\u9700\u8981\u5904\u7406\u7684\u6587\u4ef6\uff08\u6587\u4ef6\u5939\uff09\uff08\u53ef\u9009\uff09\n        loader: "babel-loader",\n      },\n      {\n        //\u652f\u6301less\n        // npm install style-loader css-loader less-loader less --save-dev\n        test: /\\.(le|c)ss$/, // .less and .css\n        use: ["style-loader", "css-loader", "less-loader"], // \u521b\u5efa\u7684css\u6587\u4ef6\u5b58\u5728html\u7684\u5934\u90e8\n      },\n    ],\n  },\n  // \u63d2\u4ef6\n  plugins: [\n    new HtmlWebpackPlugin({\n      filename: "index.html",\n      template: "src/index.html",\n      inject: "body",\n      hash: false,\n      minify: {\n        collapseWhitespace: true, //\u628a\u751f\u6210\u6587\u4ef6\u7684\u5185\u5bb9\u7684\u6ca1\u7528\u7a7a\u683c\u53bb\u6389\uff0c\u51cf\u5c11\u7a7a\u95f4\n      },\n    }),\n  ],\n};\n')),(0,r.kt)("a",{name:"qDRrF"}),(0,r.kt)("h5",{id:"\u65b0\u5efa-webpackdeveconfjs-\u6587\u4ef6\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003"},"\u65b0\u5efa webpack.deve.conf.js \u6587\u4ef6\uff0c\u90e8\u5206\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'"use strict";\nconst { merge } = require("webpack-merge");\nconst baseWebpackConfig = require("./webpack.base.conf");\nconst path = require("path");\nconst webpack = require("webpack");\n\nmodule.exports = merge(baseWebpackConfig, {\n  // \u6a21\u5f0f\n  mode: "development",\n  // \u8c03\u8bd5\u5de5\u5177\n  devtool: "inline-source-map",\n  // \u5f00\u53d1\u670d\u52a1\u5668\n  devServer: {\n    static: path.resolve(__dirname, "static"),\n    historyApiFallback: true, // \u5728\u5f00\u53d1\u5355\u9875\u5e94\u7528\u65f6\u975e\u5e38\u6709\u7528\uff0c\u5b83\u4f9d\u8d56\u4e8eHTML5 history API\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u6240\u6709\u7684\u8df3\u8f6c\u5c06\u6307\u5411index.html\n    compress: true, // \u542f\u7528gzip\u538b\u7f29\n    hot: true, // \u6a21\u5757\u70ed\u66f4\u65b0\uff0c\u53d6\u51b3\u4e8eHotModuleReplacementPlugin\n    host: "127.0.0.1", // \u8bbe\u7f6e\u9ed8\u8ba4\u76d1\u542c\u57df\u540d\uff0c\u5982\u679c\u7701\u7565\uff0c\u9ed8\u8ba4\u4e3a\u201clocalhost\u201d\n    port: 8888, // \u8bbe\u7f6e\u9ed8\u8ba4\u76d1\u542c\u7aef\u53e3\uff0c\u5982\u679c\u7701\u7565\uff0c\u9ed8\u8ba4\u4e3a\u201c8080\u201d\n  },\n  optimization: {\n    nodeEnv: "development",\n  },\n});\n')),(0,r.kt)("a",{name:"IsHLl"}),(0,r.kt)("h5",{id:"\u65b0\u5efa-webpackprodconfjs-\u6587\u4ef6"},"\u65b0\u5efa webpack.prod.conf.js \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'"use strict";\nconst { merge } = require("webpack-merge");\nconst baseWebpackConfig = require("./webpack.base.conf");\n\nconst path = require("path");\nconst webpack = require("webpack");\nconst { CleanWebpackPlugin } = require("clean-webpack-plugin");\n\nmodule.exports = merge(baseWebpackConfig, {\n  // \u6a21\u5f0f\n  mode: "production",\n  // \u8c03\u8bd5\u5de5\u5177\n  devtool: "source-map",\n  // \u8f93\u51fa\n  output: {\n    path: path.resolve(__dirname, "../dist"),\n    filename: "js/[name].[chunkhash].js",\n  },\n  // \u63d2\u4ef6\n  plugins: [new CleanWebpackPlugin()],\n  // \u4ee3\u7801\u5206\u79bb\u76f8\u5173\n  optimization: {\n    nodeEnv: "production",\n    runtimeChunk: {\n      name: "manifest",\n    },\n    splitChunks: {\n      minSize: 30000,\n      minChunks: 1,\n      maxAsyncRequests: 5,\n      maxInitialRequests: 3,\n      name: false,\n      cacheGroups: {\n        vendor: {\n          test: /[\\\\/]node_modules[\\\\/]/,\n          name: "vendor",\n          chunks: "initial",\n        },\n      },\n    },\n  },\n});\n')),(0,r.kt)("a",{name:"nai57"}),(0,r.kt)("h2",{id:"\u65b0\u5efababelrc-\u6587\u4ef6"},"\u65b0\u5efa.babelrc \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "presets": ["latest", "react", "stage-2"],\n  "plugins": []\n}\n')),(0,r.kt)("a",{name:"O08oZ"}),(0,r.kt)("h2",{id:"\u4fee\u6539-packagejson-\u4e2d\u7684-script-\u4ee3\u7801"},"\u4fee\u6539 package.json \u4e2d\u7684 script \u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'  "scripts": {\n    "dev": "webpack-dev-server --hot  --config config/webpack.dev.conf.js",\n    "start": "npm run dev",\n    "build": "webpack --progress --colors --config config/webpack.prod.conf.js"\n  },\n')),(0,r.kt)("a",{name:"JMqxA"}),(0,r.kt)("h2",{id:"\u6b64\u65f6packagejson-\u4e2d\u90e8\u5206\u4ee3\u7801\u5982\u4e0b"},"\u6b64\u65f6\uff0cpackage.json \u4e2d\u90e8\u5206\u4ee3\u7801\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "name": "webpack-react-demo",\n  "version": "1.0.0",\n  "description": "",\n  "main": "index.js",\n  "scripts": {\n    "dev": "webpack-dev-server --hot  --config config/webpack.dev.conf.js",\n    "start": "npm run dev",\n    "build": "webpack --progress  --config config/webpack.prod.conf.js"\n  },\n  "license": "ISC",\n  "devDependencies": {\n    "babel-core": "^6.26.3",\n    "babel-loader": "^7.1.5",\n    "babel-plugin-import": "^1.13.5",\n    "babel-preset-latest": "^6.24.1",\n    "babel-preset-react": "^6.24.1",\n    "babel-preset-stage-0": "^6.24.1",\n    "clean-webpack-plugin": "^4.0.0",\n    "css-loader": "^6.7.1",\n    "file-loader": "^6.2.0",\n    "html-webpack-plugin": "^5.5.0",\n    "less-loader": "^11.0.0",\n    "node-less": "^1.0.0",\n    "style-loader": "^3.3.1",\n    "url-loader": "^4.1.1",\n    "webpack": "^5.74.0",\n    "webpack-cli": "^4.10.0",\n    "webpack-dev-server": "^4.10.1",\n    "webpack-merge": "^5.8.0"\n  },\n  "dependencies": {\n    "less": "^4.1.3",\n    "react": "^18.2.0",\n    "react-dom": "^18.2.0",\n    "react-router-dom": "^5.1.2"\n  }\n}\n')),(0,r.kt)("a",{name:"XMANx"}),(0,r.kt)("h2",{id:"\u5728\u9879\u76ee\u4e2d\u6dfb\u52a0\u4ee3\u7801\u89c4\u8303\u68c0\u6d4b"},"\u5728\u9879\u76ee\u4e2d\u6dfb\u52a0\u4ee3\u7801\u89c4\u8303\u68c0\u6d4b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add babel-eslint --save-dev\nyarn add @umijs/fabric -D   //@umijs/fabric\u4e00\u4e2a\u5305\u542b prettier\uff0ceslint\uff0cstylelint \u7684\u914d\u7f6e\u6587\u4ef6\u5408\u96c6\u3002\nyarn add prettier --save-dev  //\u9ed8\u8ba4@umijs/fabric\u5df2\u7ecf\u7ed9\u6211\u4eec\u5b89\u88c5\u4e86\u9700\u8981\u7684\u4f9d\u8d56\uff0c\u4f46\u662f\u9ed8\u8ba4\u662f\u6ca1\u6709pretter\u3002\n")),(0,r.kt)("a",{name:"fJufe"}),(0,r.kt)("h2",{id:"\u65b0\u589e\u5982\u4e0b\u6587\u4ef6\u7528\u4e8e\u89c4\u8303\u9879\u76ee\u7ec4\u4ee3\u7801"},"\u65b0\u589e\u5982\u4e0b\u6587\u4ef6\uff08\u7528\u4e8e\u89c4\u8303\u9879\u76ee\u7ec4\u4ee3\u7801\uff09"),(0,r.kt)("a",{name:"toxL0"}),(0,r.kt)("h5",{id:"eslintrcjs-\u6587\u4ef6"},".eslintrc.js \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  env: {\n    browser: true,\n    es2021: true,\n  },\n  extends: [require.resolve("@umijs/fabric/dist/eslint")],\n  parserOptions: {\n    ecmaFeatures: {\n      jsx: true,\n    },\n    ecmaVersion: 12,\n    sourceType: "module",\n  },\n  parser: "babel-eslint",\n  globals: {\n    gtag: true,\n    $: true,\n    _g_deflang: true,\n    require: true,\n    envConfig: true,\n    process: true,\n    React: true,\n    ysf: true,\n    initNECaptcha: true,\n    initNECaptchaWithFallback: true,\n  },\n  // plugins: ["react"],\n  rules: {\n    //"react/jsx-uses-react": 2,\n    "no-nested-ternary": 0, // \u5141\u8bb8\u5d4c\u5957\u4e09\u5143\u8868\u8fbe\u5f0f\n    "no-script-url": 0, // \u5141\u8bb8javascript:;\n    "prefer-destructuring": 0, // \u5173\u95ed\u5f3a\u5236\u4f7f\u7528\u89e3\u6784\n    "no-plusplus": 0, // \u5141\u8bb8\u4f7f\u7528++\u548c--\u7684\u64cd\u4f5c\n    "array-callback-return": 0, // \u5141\u8bb8\u6570\u7ec4map\u4e0d\u8fd4\u56de\u503c\n    "consistent-return": 0,\n    "no-param-reassign": 0, // \u5141\u8bb8\u4fee\u6539\u51fd\u6570\u5f62\u53c2\n    "no-unused-expressions": 0,\n    "no-restricted-syntax": 0,\n    "react/prop-types": 0,\n    "no-prototype-builtins": 0,\n    "react/no-deprecated": 0, // \u5173\u95edreact\u5f03\u7528\u68c0\u6d4b\n    "react/no-string-refs": 0,\n    "no-useless-escape": 0,\n  },\n};\n')),(0,r.kt)("a",{name:"PWrjd"}),(0,r.kt)("h5",{id:"eslintignore-\u6587\u4ef6"},".eslintignore \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"/lambda/\n/scripts/*\n.history\nserviceWorker.ts\n/config/*\n/public/*\n*.js\n")),(0,r.kt)("a",{name:"n872A"}),(0,r.kt)("h5",{id:"prettierrcjs-\u6587\u4ef6"},".prettierrc.js \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  singleQuote: true,\n  jsxSingleQuote: true,\n  semi: true,\n};\n")),(0,r.kt)("a",{name:"vdDRM"}),(0,r.kt)("h5",{id:"prettierignore-\u6587\u4ef6"},".prettierignore \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"**/*.svg\npackage.json\n.umi\n.umi-production\n/dist\n.dockerignore\n.DS_Store\n.eslintignore\n*.png\n*.toml\ndocker\n.editorconfig\nDockerfile*\n.gitignore\n.prettierignore\nLICENSE\n.eslintcache\n*.lock\nyarn-error.log\n.history\n")),(0,r.kt)("a",{name:"XzLYM"}),(0,r.kt)("h5",{id:"stylelintrcjs-\u6587\u4ef6"},".stylelintrc.js \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const fabric = require("@umijs/fabric");\nmodule.exports = {\n  ...fabric.stylelint,\n};\n')),(0,r.kt)("a",{name:"xDhwC"}),(0,r.kt)("h2",{id:"\u66ff\u6362-packagejson-\u4e2d\u547d\u4ee4"},"\u66ff\u6362 package.json \u4e2d\u547d\u4ee4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'  "scripts": {\n    "lint": "umi g tmp && npm run lint:js && npm run lint:style && npm run lint:prettier",\n    "lint-staged:js": "eslint --ext .js,.jsx,.ts,.tsx ",\n    "lint:fix": "eslint --fix --cache --ext .js,.jsx,.ts,.tsx --format=pretty ./src && npm run lint:style",\n    "lint:js": "eslint --cache --ext .js,.jsx,.ts,.tsx --format=pretty ./src",\n    "lint:prettier": "prettier --check \\"src/**/*\\" --end-of-line auto",\n    "lint:style": "stylelint --fix \\"src/**/*.less\\" --syntax less",\n    "prettier": "prettier -c --write \\"src/**/*\\"",\n    "precommit": "lint-staged",\n    "precommit:fix": "npm run lint:fix && npm run prettier && npm run lint:prettier && npm run lint:style",\n    "dev": "webpack-dev-server --hot  --config config/webpack.dev.conf.js",\n    "start": "npm run dev",\n    "build": "webpack --progress  --config config/webpack.prod.conf.js"\n  },\n')),(0,r.kt)("a",{name:"wiqWE"}),(0,r.kt)("h2",{id:"\u5b89\u88c5-cross-env\u8fd0\u884c\u8de8\u5e73\u53f0\u8bbe\u7f6e\u548c\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u7684\u811a\u672c"},"\u5b89\u88c5 cross-env\uff08\u8fd0\u884c\u8de8\u5e73\u53f0\u8bbe\u7f6e\u548c\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u7684\u811a\u672c\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'1\u3001\u5b89\u88c5\uff1anpm install --save-dev cross-env\n2\u3001\u4fee\u6539\u542f\u52a8\u547d\u4ee4\uff08\u539f\u547d\u4ee4\u524d\u52a0\u4e0a cross-env APP_ENV=development \u73af\u5883\u53d8\u91cf\uff09\uff1a\n     "start:dev": "cross-env APP_ENV=development webpack serve --config webpack.development.js",\n     "testing": "cross-env APP_ENV=testing webpack --config webpack.testing.js",\n   "build": "cross-env APP_ENV=production webpack --config webpack.production.js",\n   "preBuild": "cross-env APP_ENV=preProduction webpack --config webpack.production.js",\n3\u3001\u8bfb\u53d6\u73af\u5883\u53d8\u91cf\uff1aprocess.env.APP_ENV\n')),(0,r.kt)("a",{name:"WlgGX"}),(0,r.kt)("h2",{id:"\u6dfb\u52a0\u63d0\u4ea4\u524d\u68c0\u6d4b"},"\u6dfb\u52a0\u63d0\u4ea4\u524d\u68c0\u6d4b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"#\u4f7f\u7528husky lint-staged\u5728commit\u7684\u65f6\u5019\u6821\u68c0\u4f60\u63d0\u4ea4\u7684\u4ee3\u7801\u662f\u5426\u7b26\u5408\u89c4\u8303\nyarn add husky lint-staged -D\n")),(0,r.kt)("a",{name:"Pvweh"}),(0,r.kt)("h2",{id:"packagejson-\u65b0\u589e\u5982\u4e0b\u4ee3\u7801"},"package.json \u65b0\u589e\u5982\u4e0b\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'  "lint-staged": {\n    "**/*.less": "stylelint--syntaxless",\n    "**/*.{js,jsx,ts,tsx}": "npmrunlint-staged:js",\n    "**/*.{js,jsx,tsx,ts,less,md,json}": [\n      "prettier--write"\n    ]\n  },\n  "husky": {\n    "hooks": {\n      "pre-commit": "npmrunlint-staged"\n    }\n  }\n')),(0,r.kt)("a",{name:"zKnyP"}),(0,r.kt)("h1",{id:"br-"},(0,r.kt)("br",null)))}u.isMDXComponent=!0}}]);