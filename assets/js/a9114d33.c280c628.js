"use strict";(self.webpackChunkweb_study=self.webpackChunkweb_study||[]).push([[973],{3905:(n,e,t)=>{t.d(e,{Zo:()=>p,kt:()=>h});var a=t(7294);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function i(n,e){if(null==n)return{};var t,a,r=function(n,e){if(null==n)return{};var t,a,r={},o=Object.keys(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var c=a.createContext({}),l=function(n){var e=a.useContext(c),t=e;return n&&(t="function"==typeof n?n(e):s(s({},e),n)),t},p=function(n){var e=l(n.components);return a.createElement(c.Provider,{value:e},n.children)},u="mdxType",d={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,o=n.originalType,c=n.parentName,p=i(n,["components","mdxType","originalType","parentName"]),u=l(t),m=r,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||o;return t?a.createElement(h,s(s({ref:e},p),{},{components:t})):a.createElement(h,s({ref:e},p))}));function h(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var o=t.length,s=new Array(o);s[0]=m;var i={};for(var c in e)hasOwnProperty.call(e,c)&&(i[c]=e[c]);i.originalType=n,i[u]="string"==typeof n?n:r,s[1]=i;for(var l=2;l<o;l++)s[l]=t[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},9448:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var a=t(7462),r=(t(7294),t(3905));const o={},s=void 0,i={unversionedId:"ReactSidebar/React \u57fa\u7840",id:"ReactSidebar/React \u57fa\u7840",title:"React \u57fa\u7840",description:"\u7ec4\u4ef6\u7684\u751f\u6210\u65b9\u5f0f",source:"@site/docs/ReactSidebar/React \u57fa\u7840.md",sourceDirName:"ReactSidebar",slug:"/ReactSidebar/React \u57fa\u7840",permalink:"/docs/ReactSidebar/React \u57fa\u7840",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"ReactSidebar",next:{title:"ReactHooks",permalink:"/docs/ReactSidebar/ReactHooks"}},c={},l=[{value:"\u7ec4\u4ef6\u7684\u751f\u6210\u65b9\u5f0f",id:"\u7ec4\u4ef6\u7684\u751f\u6210\u65b9\u5f0f",level:5},{value:"\u53d7\u63a7\u7ec4\u4ef6",id:"\u53d7\u63a7\u7ec4\u4ef6",level:5},{value:"\u975e\u53d7\u63a7\u7ec4\u4ef6",id:"\u975e\u53d7\u63a7\u7ec4\u4ef6",level:5},{value:"\u6837\u5f0f\u548c\u7c7b",id:"\u6837\u5f0f\u548c\u7c7b",level:5},{value:"state-\u72b6\u6001",id:"state-\u72b6\u6001",level:5},{value:"Portal\uff08\u6539\u53d8\u5143\u7d20\u5728 DOM \u7ed3\u6784\u4e2d\u7684\u4f4d\u7f6e\uff09",id:"portal\u6539\u53d8\u5143\u7d20\u5728-dom-\u7ed3\u6784\u4e2d\u7684\u4f4d\u7f6e",level:5},{value:"React \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a\u6302\u8f7d\u9636\u6bb5\u3001\u66f4\u65b0\u9636\u6bb5\u548c\u5378\u8f7d\u9636\u6bb5",id:"react-\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\u6302\u8f7d\u9636\u6bb5\u66f4\u65b0\u9636\u6bb5\u548c\u5378\u8f7d\u9636\u6bb5",level:5},{value:"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65e7\u7248",id:"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65e7\u7248",level:2},{value:"\u521d\u59cb\u5316",id:"\u521d\u59cb\u5316",level:5},{value:"\u6302\u8f7d\u9636\u6bb5",id:"\u6302\u8f7d\u9636\u6bb5",level:5},{value:"\u66f4\u65b0\u9636\u6bb5",id:"\u66f4\u65b0\u9636\u6bb5",level:5},{value:"\u5378\u8f7d\u9636\u6bb5",id:"\u5378\u8f7d\u9636\u6bb5",level:5},{value:"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65b0\u7248",id:"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65b0\u7248",level:2},{value:"getDerivedStateFromProps",id:"getderivedstatefromprops",level:5},{value:"getSnapshotBeforeUpdate",id:"getsnapshotbeforeupdate",level:5},{value:"props \u4f20\u503c\u68c0\u6d4b",id:"props-\u4f20\u503c\u68c0\u6d4b",level:5},{value:"\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u901a\u4fe1\uff1a\u4f7f\u7528 props",id:"\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u901a\u4fe1\u4f7f\u7528-props",level:5},{value:"\u5b50\u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u901a\u4fe1\uff1a\u4f7f\u7528 props \u56de\u8c03",id:"\u5b50\u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u901a\u4fe1\u4f7f\u7528-props-\u56de\u8c03",level:5},{value:"\u5144\u5f1f\u95f4\u7684\u4f20\u53c2",id:"\u5144\u5f1f\u95f4\u7684\u4f20\u53c2",level:5},{value:"\u8de8\u7ea7\u7ec4\u4ef6\u95f4\u901a\u4fe1\uff1a\u4f7f\u7528 context \u5bf9\u8c61",id:"\u8de8\u7ea7\u7ec4\u4ef6\u95f4\u901a\u4fe1\u4f7f\u7528-context-\u5bf9\u8c61",level:5},{value:"\u7236\u7ec4\u4ef6\u8c03\u7528\u5b50\u7ec4\u4ef6\u7684\u65b9\u6cd5",id:"\u7236\u7ec4\u4ef6\u8c03\u7528\u5b50\u7ec4\u4ef6\u7684\u65b9\u6cd5",level:5},{value:"\u4f9d\u8d56\u5b89\u88c5",id:"\u4f9d\u8d56\u5b89\u88c5",level:5},{value:"\u521b\u5efa reducers",id:"\u521b\u5efa-reducers",level:5},{value:"\u521b\u5efa actions",id:"\u521b\u5efa-actions",level:5},{value:"\u521b\u5efa store",id:"\u521b\u5efa-store",level:5},{value:"\u7a7f\u900f\u6574\u4e2a\u9879\u76ee\u6587\u4ef6",id:"\u7a7f\u900f\u6574\u4e2a\u9879\u76ee\u6587\u4ef6",level:5},{value:"\u9879\u76ee\u6587\u4ef6\u4f7f\u7528",id:"\u9879\u76ee\u6587\u4ef6\u4f7f\u7528",level:5},{value:"redux \u5f02\u6b65\u64cd\u4f5c",id:"redux-\u5f02\u6b65\u64cd\u4f5c",level:2},{value:"\u5f02\u6b65\u64cd\u4f5c- redux-thunk \u5e93",id:"\u5f02\u6b65\u64cd\u4f5c--redux-thunk-\u5e93",level:5},{value:"\u57fa\u7840\u8def\u7531",id:"\u57fa\u7840\u8def\u7531",level:5},{value:"\u5d4c\u5957\u8def\u7531",id:"\u5d4c\u5957\u8def\u7531",level:5},{value:"\u52a8\u6001\u53c2\u6570",id:"\u52a8\u6001\u53c2\u6570",level:5},{value:"\u8def\u7531\u6e32\u67d3",id:"\u8def\u7531\u6e32\u67d3",level:5},{value:"\u8def\u7531\u91cd\u5b9a\u5411",id:"\u8def\u7531\u91cd\u5b9a\u5411",level:5},{value:"\u8def\u7531\u9274\u6743",id:"\u8def\u7531\u9274\u6743",level:5},{value:"Navlink \u6807\u7b7e",id:"navlink-\u6807\u7b7e",level:5},{value:"\u8def\u7531\u4f20\u53c2",id:"\u8def\u7531\u4f20\u53c2",level:5},{value:"import \u51fd\u6570",id:"import-\u51fd\u6570",level:5},{value:"lazy \u51fd\u6570\u548c Suspense \u7ec4\u4ef6-\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528",id:"lazy-\u51fd\u6570\u548c-suspense-\u7ec4\u4ef6-\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528",level:5},{value:"lazy \u51fd\u6570\u548c Suspense \u7ec4\u4ef6-\u8def\u7531\u4e2d\u7684\u4f7f\u7528",id:"lazy-\u51fd\u6570\u548c-suspense-\u7ec4\u4ef6-\u8def\u7531\u4e2d\u7684\u4f7f\u7528",level:5},{value:"\u79fb\u52a8\u7aef\u9002\u914d",id:"\u79fb\u52a8\u7aef\u9002\u914d",level:2},{value:"React \u865a\u62df DOM\uff08Virtual DOM\uff09",id:"react-\u865a\u62df-domvirtual-dom",level:5},{value:"React Diff \u7b97\u6cd5",id:"react-diff-\u7b97\u6cd5",level:5}],p={toc:l},u="wrapper";function d(n){let{components:e,...o}=n;return(0,r.kt)(u,(0,a.Z)({},p,o,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("a",{name:"E6pqc"}),(0,r.kt)("h1",{id:"\u7ec4\u4ef6\u548c\u57fa\u7840"},"\u7ec4\u4ef6\u548c\u57fa\u7840"),(0,r.kt)("a",{name:"baapk"}),(0,r.kt)("h5",{id:"\u7ec4\u4ef6\u7684\u751f\u6210\u65b9\u5f0f"},"\u7ec4\u4ef6\u7684\u751f\u6210\u65b9\u5f0f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import React, { Component } from "react";\n//\u7ec4\u4ef6\u540d\u9996\u5b57\u6bcd\u5927\u5199\n//\u7c7b\u751f\u6210\u65b9\u5f0f\nclass Header extends Component {\n  render() {\n    return <div>\u5fae\u535a\u5934\u90e8</div>;\n  }\n}\n//\u51fd\u6570\u7ec4\u4ef6\uff1a\u6ca1\u6709\u751f\u547d\u5468\u671f\uff0c\u4e0d\u80fd\u5b9a\u4e49\u81ea\u5df1\u7684\u72b6\u6001\uff08\uff09\n//ES5\u751f\u6210\u65b9\u5f0f\nfunction Main() {\n  return <main>\u5fae\u535a\u7684\u5185\u5bb9</main>;\n}\n//ES6\u751f\u6210\u65b9\u5f0f\nconst Footer = () => {\n  return <footer>\u5fae\u535a\u5e95\u90e8</footer>;\n};\n\nclass App extends Component {\n  render() {\n    return (\n      <>\n        {/* Fragment\u662f\u4e00\u4e2a\u7a7a\u7684\u5360\u4f4d\u6807\u7b7e */}\n        <Header />\n        <Main />\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default App;\n')),(0,r.kt)("a",{name:"rIGiR"}),(0,r.kt)("h5",{id:"\u53d7\u63a7\u7ec4\u4ef6"},"\u53d7\u63a7\u7ec4\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u5185\u5bb9\u53ef\u4ee5\u7531\u6211\u4eec\u81ea\u5df1\u6765\u63a7\u5236\u7684\u7ec4\u4ef6\uff0c\u5fc5\u987b\u8981\u6709value\u548conChange\nclass App extends Component {\n  state = {\n    valueText: 1\n  }\n  handleChange = (e) => {\n    this.setState({\n      valueText: e.target.value,    //\u8f93\u5165\u7684\u503c\n    });\n  }\n  handleClick = () => {\n    console.log(this.state.valueText);\n  }\n  render() {\n    return (\n      <>\n        <input\n          type="text"\n          value={this.state.valueText}\n          onChange={this.handleChange}\n        />\n        <button onClick={this.handleClick}>btn</button>\n      </>\n              <p>\u8f93\u5165\u7684\u503c\u662f\uff1a{this.state.valueText}</p>   //\u5b9e\u73b0\u53cc\u5411\u7ed1\u5b9a\u6548\u679c\n    );\n  }\n}\n\n//\u51fd\u6570\u7ec4\u4ef6 useState\n const setUserName = (e) => {\n        setUserRealName(e.target.value)\n    }\n')),(0,r.kt)("a",{name:"GTV8r"}),(0,r.kt)("h5",{id:"\u975e\u53d7\u63a7\u7ec4\u4ef6"},"\u975e\u53d7\u63a7\u7ec4\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u89e3\u6784createRef\uff0c\u521b\u5efaRefs\u5e76\u901a\u8fc7ref\u5c5e\u6027\u8054\u7cfb\u5230React\u7ec4\u4ef6\u3002Refs\u901a\u5e38\u5f53\u7ec4\u4ef6\u88ab\u521b\u5efa\u65f6\u88ab\u5206\u914d\u7ed9\u5b9e\u4f8b\u53d8\u91cf\uff0c\u8fd9\u6837\u5b83\u4eec\u5c31\u80fd\u5728\u7ec4\u4ef6\u4e2d\u88ab\u5f15\u7528\u3002\nimport React, { Component, createRef } from "react";\nclass App extends Component {\n  num = createRef(); //current \u5c5e\u6027\u662f\u552f\u4e00\u53ef\u7528\u7684\u5c5e\u6027\n  handleClick2 = (ipt) => {\n    console.log(this.num.current.value);\n  };\n  render() {\n    return (\n      <>\n        <input type="text" ref={this.num} />\n        <button onClick={this.handleClick2}>btn</button>\n      </>\n    );\n  }\n}\n')),(0,r.kt)("a",{name:"qXXwP"}),(0,r.kt)("h5",{id:"\u6837\u5f0f\u548c\u7c7b"},"\u6837\u5f0f\u548c\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'1\u3001\u7ec4\u4ef6\u4e2d\u7684\u5185\u8054\u6837\u5f0f\nclass Header extends React.Component {\n  render() {\n    return (<header style={{color:"red"}}>\u8fd9\u662f\u5934</header>)    //\u5916\u5c42{}\u4e3ajsx\u8bed\u6cd5\uff0c\u5185\u5c42{}\u4e3a\u5bf9\u8c61\u5199\u6cd5\n  }\n}\n\n2\u3001\u76f4\u63a5\u5bfc\u5165css\nimport "XXX.css";     //\u5bfc\u5165\u5b9a\u4e49\u8fc7\u7684css\u6587\u4ef6\nconst Main = ()=>{\n  return (<main className="orange big">\u8fd9\u662f\u8eab\u4f53</main>)      //class\u4e3a\u5173\u952e\u5b57\uff0c\u5fc5\u987b\u4f7f\u7528className\n}\n\n3\u3001\u4e0d\u540c\u7684\u6761\u4ef6\u6dfb\u52a0\u4e0d\u540c\u7684\u6837\u5f0f-\u4f7f\u7528classnames\u8fd9\u4e2a\u5305\n//\u4e0b\u8f7d\u5b89\u88c5classnames\u5305\n$npm i classnames\n//\u5f15\u5165classnames\u5305\nimport classNames from "classNames/bind"\n//\u5f15\u5165CSS\u6587\u4ef6\nimport styles from \'./classNames.css\'\nlet cx = classNames.bind(styles);\n\nfunction Footer() {\n  let className = cx({\n    blue: true,\n    red: false\n  }) ;\n  return <footer className={className}>\u8fd9\u662f\u811a</footer>;\n}\n\n4\u3001\u5728js\u4e2d\u5199css\u6539\u53d8\u6837\u5f0f\n//\u5b89\u88c5\u5305\n$npm i styled-components\n//\u65b0\u5efa\u542b\u6709css\u7684js\u6587\u4ef6\uff0c\u5bfc\u5165\u6a21\u5757\u5e76\u5bfc\u51fa\u6837\u5f0f\nimport styled from "styled-components";\nconst Pstyled = styled.h1`                      //h1\u4e3a\u6807\u7b7e\u540d\uff0c\u540e\u9762\u63a5\u6a21\u677f\u5b57\u7b26\u4e32\n  color: red;\n  font-size: ${(props) => props.size + "px"}; `;  //\u53ef\u4ee5\u901a\u8fc7props\u4f20\u503c\nexport { Pstyled };\n//\u7ec4\u4ef6\u4e2d\u4f7f\u7528\nimport React, { Component } from "react";\nimport { Pstyled } from "./scc-in-js.js";\n\nclass App extends Component {\n  render() {\n    return (\n      <>\n        <Pstyled size="60">styled-components</Pstyled>\n      </>\n    );\n  }\n}\nexport default App;\n')),(0,r.kt)("a",{name:"hS81L"}),(0,r.kt)("h5",{id:"state-\u72b6\u6001"},"state-\u72b6\u6001"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"1\u3001\u901a\u8fc7\u7533\u660e\u5f0f\u5730\u5b9a\u4e49state\nclass App extends Component {\n  state = {\n    num: 10,\n  }\n  render() {\n    const { num } = this.state;     //\u89e3\u6784state\u4e2d\u7684num\n    return (\n      <><h1>\n        num - {num}\n      </h1></>\n    )\n  }\n}\n2\u3001\u901a\u8fc7\u6784\u9020\u51fd\u6570\u7684\u6784\u9020\u5668constructor\u6765\u5b9a\u4e49state,\u5f53\u6211\u4eec\u53bb\u5b9e\u4f8b\u5316\u8fd9\u4e2a\u7c7b\u7684\u65f6\u5019\uff0c\u5b83\u662f\u4f1a\u81ea\u52a8\u6267\u884c\u7684\nclass App extends Component {\n  constructor() {\n     // \u7528\u4e8e\u7ee7\u627f\u7236\u7c7b\uff0c\u53ea\u6709\u8c03\u7528\u8fc7super\u4e4b\u540e\u624d\u80fd\u4f7f\u7528this\n    super();\n    this.state = {\n      num: 10,\n    }\n  }\n  render() {\n    return (\n      <>\n        <p>\n          num - {this.state.num}\n        </p>\n      </>\n    )\n  }\n}\n\n! setState\u5728\u5408\u6210\u4e8b\u4ef6\u662f\u5f02\u6b65\u7684\n! setState\u5728\u751f\u547d\u5468\u671f\u91cc\u662f\u5f02\u6b65\u7684\n! setState\u5728\u5b9a\u65f6\u5668\u91cc\u9762\u662f\u540c\u6b65\u7684\n! setState\u5728\u539f\u751fjs\u91cc\u9762\u662f\u540c\u6b65\u7684\n\n//setState\u6709\u4e24\u79cd\u5199\u6cd5\n//\u7b2c\u4e00\u79cd\u662f\u91cc\u9762\u5199\u5bf9\u8c61,\u5141\u8bb8setState\u4f20\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u662f\u56de\u8c03\u51fd\u6570\n    this.setState(               //\u9700\u8981\u4fee\u6b63this\u7684\u6307\u5411\n      {\n        count: 10,\n      },\n      () => {\n        console.log(this.state.count);\n      }\n    );\n\n//\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u662f\u91cc\u9762\u5199\u51fd\u6570, \u53ef\u4ee5\u63a5\u6536\u4e00\u4e2a\u53c2\u6570(\u4efb\u610f\u5f62\u53c2)\uff0c\u8868\u793a\u524d\u4e00\u6b21\u7684state,\u5141\u8bb8setState\u4f20\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u662f\u56de\u8c03\u51fd\u6570\n    this.setState(                                  //\u9700\u8981\u4fee\u6b63this\u7684\u6307\u5411\n      (prevState) => {\n        return {\n            list: prevState.list.concat(item),      //list: [...prevState.list, item],\n        };\n      },\n      () => {\n        console.log(this.state.item);\n      }\n    );\n")),(0,r.kt)("a",{name:"esUhi"}),(0,r.kt)("h5",{id:"portal\u6539\u53d8\u5143\u7d20\u5728-dom-\u7ed3\u6784\u4e2d\u7684\u4f4d\u7f6e"},"Portal\uff08\u6539\u53d8\u5143\u7d20\u5728 DOM \u7ed3\u6784\u4e2d\u7684\u4f4d\u7f6e\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u89e3\u6784\nimport { createPortal } from "react-dom";\n//\u5e94\u7528\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <h3>portal</h3>\n        {createPortal(<Child />, document.querySelector("html"))} //\u51fd\u6570\uff0c\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u4e3a\u7ec4\u4ef6\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f4d\u7f6e\n      </div>\n    );\n  }\n}\n')),(0,r.kt)("a",{name:"GKrUw"}),(0,r.kt)("h1",{id:"\u7c7b\u7ec4\u4ef6\u751f\u547d\u5468\u671f"},"\u7c7b\u7ec4\u4ef6\u751f\u547d\u5468\u671f"),(0,r.kt)("a",{name:"bMJgU"}),(0,r.kt)("h5",{id:"react-\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\u6302\u8f7d\u9636\u6bb5\u66f4\u65b0\u9636\u6bb5\u548c\u5378\u8f7d\u9636\u6bb5"},"React \u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a\u6302\u8f7d\u9636\u6bb5\u3001\u66f4\u65b0\u9636\u6bb5\u548c\u5378\u8f7d\u9636\u6bb5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"\u6302\u8f7d\u9636\u6bb5\u5305\u62ec\u4ee5\u4e0b\u65b9\u6cd5\uff1a\n\n- constructor\uff1a\u7ec4\u4ef6\u88ab\u521b\u5efa\u65f6\u8c03\u7528\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u72b6\u6001\u548c\u7ed1\u5b9a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u3002\n- getDerivedStateFromProps\uff1a\u5728\u7ec4\u4ef6\u6302\u8f7d\u4e4b\u524d\u548c\u66f4\u65b0\u65f6\u8c03\u7528\uff0c\u7528\u4e8e\u6839\u636eprops\u66f4\u65b0state\u3002\n- render\uff1a\u6839\u636eprops\u548cstate\u6e32\u67d3\u7ec4\u4ef6\u3002\n- componentDidMount\uff1a\u7ec4\u4ef6\u6302\u8f7d\u540e\u8c03\u7528\uff0c\u7528\u4e8e\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u548cDOM\u64cd\u4f5c\u3002\n\n\u66f4\u65b0\u9636\u6bb5\u5305\u62ec\u4ee5\u4e0b\u65b9\u6cd5\uff1a\n\n- getDerivedStateFromProps\uff1a\u5728\u7ec4\u4ef6\u66f4\u65b0\u65f6\u8c03\u7528\uff0c\u7528\u4e8e\u6839\u636eprops\u66f4\u65b0state\u3002\n- shouldComponentUpdate\uff1a\u5728\u7ec4\u4ef6\u66f4\u65b0\u524d\u8c03\u7528\uff0c\u7528\u4e8e\u5224\u65ad\u662f\u5426\u9700\u8981\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u3002\n- render\uff1a\u6839\u636eprops\u548cstate\u6e32\u67d3\u7ec4\u4ef6\u3002\n- componentDidUpdate\uff1a\u5728\u7ec4\u4ef6\u66f4\u65b0\u540e\u8c03\u7528\uff0c\u7528\u4e8e\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u548cDOM\u64cd\u4f5c\u3002\n\n\u5378\u8f7d\u9636\u6bb5\u5305\u62ec\u4ee5\u4e0b\u65b9\u6cd5\uff1a\n\n- componentWillUnmount\uff1a\u5728\u7ec4\u4ef6\u5378\u8f7d\u524d\u8c03\u7528\uff0c\u7528\u4e8e\u6e05\u7406\u5b9a\u65f6\u5668\u3001\u53d6\u6d88\u8ba2\u9605\u7b49\u64cd\u4f5c\u3002\n")),(0,r.kt)("a",{name:"IZk88"}),(0,r.kt)("h2",{id:"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65e7\u7248"},"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65e7\u7248"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image.png",src:t(6941).Z,width:"841",height:"670"})),(0,r.kt)("a",{name:"q19yC"}),(0,r.kt)("h5",{id:"\u521d\u59cb\u5316"},"\u521d\u59cb\u5316"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"  // \u5f53\u8fd9\u4e2a\u7c7b\u88ab\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u5c31\u4f1a\u81ea\u52a8\u6267\u884c\uff0c\u6700\u5148\u6267\u884c\uff0c\u5e76\u4e14\u53ea\u6267\u884c\u4e00\u6b21\n  constructor(props) {               // \u5f53props\u7684\u503c\u9700\u8981\u4f5c\u4e3astate\u7684\u521d\u59cb\u503c\u7684\u65f6\u5019\n    super(props);                    //super\u5fc5\u987b\u5199\u5728\u6700\u524d\u9762\n    this.state = {\n      count: 10,\n    };\n    this.ipt = createRef();         //\u975e\u53d7\u63a7\u7ec4\u4ef6\u4f20\u503c\n  }\n")),(0,r.kt)("a",{name:"v6vJO"}),(0,r.kt)("h5",{id:"\u6302\u8f7d\u9636\u6bb5"},"\u6302\u8f7d\u9636\u6bb5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},' // componentWillMount\u662f\u88ab\u5e9f\u5f03\u4e86, \u6539\u540d\u6210\u4e86UNSAFE_componentWillMount\n  UNSAFE_componentWillMount() {\n    console.log("componentWillMount");\n    // componentWillMount\u4e0d\u80fd\u505a\u6570\u636e\u8bf7\u6c42\n    // \u56e0\u4e3afiber\u7b97\u6cd5\u7684\u539f\u56e0,\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u88ab\u6267\u884c\u591a\u6b21\n  }\n\n  // render\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u751f\u547d\u5468\u671f,\u6bcf\u6b21\u6570\u636e\u6539\u53d8\u90fd\u91cd\u65b0\u6e32\u67d3\n  render() {\n    console.log("render");\n    return (\n      <>\n        <h3>\u8001\u7248\u751f\u547d\u5468\u671f</h3>\n        <p>count: {this.state.count}</p>\n      </>\n    );\n  }\n\n  // \u7ec4\u4ef6\u6302\u8f7d\u5b8c\u6210\u4e4b\u540e\n  componentDidMount() {\n    console.log("componentDidMount");\n    this.setState({\n      count: 20,\n    });\n  }\n')),(0,r.kt)("a",{name:"rAgpX"}),(0,r.kt)("h5",{id:"\u66f4\u65b0\u9636\u6bb5"},"\u66f4\u65b0\u9636\u6bb5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// \u88ab\u5e9f\u5f03\u4e86, \u56e0\u4e3a\u73b0\u5728\u7531\u66f4\u597d\u7684\u751f\u547d\u5468\u671f\u6765\u4ee3\u66ff\n// \u5f53\u7236\u7ec4\u4ef6\u4f20\u9012\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u53d1\u751f\u6539\u53d8\u65f6\u5c31\u4f1a\u89e6\u53d1\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    console.log(nextProps);\n  }\n\n//\u51b3\u5b9a\u5b50\u7ec4\u4ef6\u662f\u5426\u91cd\u65b0\u6e32\u67d3\n// \u5fc5\u987b\u8981\u8fd4\u56detrue\u6216\u8005false, \u901a\u8fc7\u8fd4\u56detrue\u6216\u8005false\u6765\u63a7\u5236\u662f\u5426\u8981\u91cd\u65b0\u6e32\u67d3\u5f53\u524d\u7ec4\u4ef6\n// \u53ef\u4ee5\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u65b0\u7684props\u548c\u65b0\u7684state\uff0c\u65e7\u7684\u8fd8\u662fthis.props.xxx\n// PureComponent \u7eaf\u7ec4\u4ef6   \u7528\u4e8e\u4ee3\u66ffComponent\nshouldComponentUpdate(nextProps, nextState) {\n    return nextState.count !== this.state.count;\n  }\n\n// \u88ab\u5f03\u7528\n  UNSAFE_componentWillUpdate() {\n    console.log("componentWillUpdate");\n  }\n\n// \u66f4\u65b0\u7ed3\u675f\n// \u4e0d\u80fd\u5728\u8fd9\u91cc\u66f4\u65b0\u6570\u636e\n  componentDidUpdate() {\n    console.log("componentDidUpdate");\n  }\n')),(0,r.kt)("a",{name:"Zvr9S"}),(0,r.kt)("h5",{id:"\u5378\u8f7d\u9636\u6bb5"},"\u5378\u8f7d\u9636\u6bb5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u7ec4\u4ef6\u5c06\u8981\u9500\u6bc1\ncomponentWillUnmount() {\n    // \u5b9a\u65f6\u5668\uff0c\u4e8b\u4ef6\u76d1\u542c\uff0cwebsocket, \u63d2\u4ef6\u7b49\n    console.log("componentWillUnmount");\n  }\n')),(0,r.kt)("a",{name:"GfG72"}),(0,r.kt)("h2",{id:"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65b0\u7248"},"\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f-\u65b0\u7248"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image.png",src:t(3701).Z,width:"1133",height:"788"})),(0,r.kt)("a",{name:"augfs"}),(0,r.kt)("h5",{id:"getderivedstatefromprops"},"getDerivedStateFromProps"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u6839\u636eprops\u7684\u503c\u53bb\u83b7\u53d6\u4e00\u4e2a\u65b0\u7684state\n// \u5b83\u524d\u9762\u8981\u6709\u4e00\u4e2astatic\u5173\u952e\u5b57\n// \u5fc5\u987b\u8981return \u5bf9\u8c61\u6216\u8005null  \u5982\u679cnull\u8868\u793a\u5565\u4e5f\u4e0d\u505a\uff0c\u5982\u679c\u662f\u5bf9\u8c61\u5c31\u4f1a\u5408\u5e76\u4e4b\u524d\u7684state\n")),(0,r.kt)("a",{name:"YjOay"}),(0,r.kt)("h5",{id:"getsnapshotbeforeupdate"},"getSnapshotBeforeUpdate"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u751f\u6210\u4e00\u4e2a\u5feb\u7167\u5728\u66f4\u65b0\u4e4b\u524d\n// \u62ff\u5230\u66f4\u65b0\u524d\u7684\u72b6\u6001\u7ed9\u66f4\u65b0\u4ee5\u540e\u7528\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    // \u5feb\u7167\u5c31\u662f\u67d0\u4e00\u6761\u8bb0\u5f55\u6216\u8005\u67d0\u4e00\u4e2a\u503c\uff0creturn\u51fa\u6765\u88ab\u9500\u6bc1\u5468\u671f\u63a5\u6536\n    return prevState;\n  }\n\n// componentDidUpdate\u7b2c\u4e09\u4e2a\u53c2\u6570\u5c31\u662fgetSnapshotBeforeUpdate\u91cc\u9762return\u7684\u90a3\u4e2a\u503c\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    console.log(snapshot);\n  }\n")),(0,r.kt)("a",{name:"Llgkg"}),(0,r.kt)("h1",{id:"\u4f20\u53c2\u4e0e\u901a\u4fe1"},"\u4f20\u53c2\u4e0e\u901a\u4fe1"),(0,r.kt)("a",{name:"Fi4wO"}),(0,r.kt)("h5",{id:"props-\u4f20\u503c\u68c0\u6d4b"},"props \u4f20\u503c\u68c0\u6d4b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u5b89\u88c5\u5305prop-types\n$ npm i prop-types -S\n//\u89e3\u6784\nimport { number, string } from "prop-types";\n//\u7c7b\u7ec4\u4ef6\u68c0\u6d4b\nclass Child extends Component {\n  static propTypes = {\n    count: number,\n    msg: string,\n  };\n  render() {\n    return <div>child - {this.props.count}</div>;\n  }\n}\n//\u51fd\u6570\u7ec4\u4ef6\u68c0\u6d4b\nconst Child = (props) => {\n  return <div>child - {props.count}</div>;\n};\nChild.propTypes = {\n  count: number,\n  msg: string,\n};\n')),(0,r.kt)("a",{name:"EHG8m"}),(0,r.kt)("h5",{id:"\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u901a\u4fe1\u4f7f\u7528-props"},"\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u901a\u4fe1\uff1a\u4f7f\u7528 props"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'\u7236\u7ec4\u4ef6 App.js\uff1a\nimport React,{ Component } from "react";\nimport Sub from "./SubComponent.js";\nimport "./App.css";\nexport default class App extends Component{\n    render(){\n        return(\n            <div>\n                <Sub title = "\u4eca\u5e74\u8fc7\u8282\u4e0d\u6536\u793c" />\n            </div>\n        )\n    }\n}\n\n\u5b50\u7ec4\u4ef6 SubComponent.js\uff1a\nimport React from "react";\nconst Sub = (props) => {\n    return(\n        <h1>\n            { props.title }\n        </h1>\n    )\n}\n\nexport default Sub;\n')),(0,r.kt)("a",{name:"hlR2Z"}),(0,r.kt)("h5",{id:"\u5b50\u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u901a\u4fe1\u4f7f\u7528-props-\u56de\u8c03"},"\u5b50\u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u901a\u4fe1\uff1a\u4f7f\u7528 props \u56de\u8c03"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'SubComponent.js\u4ee3\u7801\uff1a\nimport React from "react";\nconst Sub = (props) => {\n    const cb = (msg) => {\n        return () => {\n            props.callback(msg)\n        }\n    }\n    return(\n        <div>\n            <button onClick = { cb("\u6211\u4eec\u901a\u4fe1\u5427") }>\u70b9\u51fb\u6211</button>\n        </div>\n    )\n}\nexport default Sub;\n\nApp.js\u4ee3\u7801\uff1a\nimport React,{ Component } from "react";\nimport Sub from "./SubComponent.js";\nimport "./App.css";\nexport default class App extends Component{\n    callback(msg){\n        console.log(msg);\n    }\n    render(){\n        return(\n            <div>\n                <Sub callback = { this.callback.bind(this) } />\n            </div>\n        )\n    }\n}\n')),(0,r.kt)("a",{name:"cAbDG"}),(0,r.kt)("h5",{id:"\u5144\u5f1f\u95f4\u7684\u4f20\u53c2"},"\u5144\u5f1f\u95f4\u7684\u4f20\u53c2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"1\uff1a\u5b50\u7ec4\u4ef61\u4e2d\u7684\u4e8b\u4ef6\u53bb\u89e6\u53d1\u5b9a\u4e49\u5728\u7236\u7ec4\u4ef6\u4e2d\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u5e76\u4f20\u5165\u5b50\u7ec4\u4ef6\u4e2d\u7684\u53d8\u91cf\nclass Child1 extends Component {\n  state = {\n    count: 10,\n  }\n  change = () => {                                               //\u53bb\u89e6\u53d1\u7236\u7ec4\u4ef6\u4e2d\u5b9a\u4e49\u7684\u4e8b\u4ef6\n    this.props.onchange(this.state.count)\n  }\n  render() {\n    return (\n      <>\n        <div>{this.state.count}</div>\n        <button onClick={this.change}>\u6309\u94ae</button>\n      </>\n    );\n  }\n}\n\n2\uff1a\u7236\u7ec4\u4ef6\u88ab\u5b50\u7ec4\u4ef61\u7684\u4e8b\u4ef6\u89e6\u53d1\u81ea\u5df1\u5b9a\u4e49\u7684\u4e8b\u4ef6\uff0c\u6539\u53d8\u81ea\u5df1\u7ec4\u4ef6\u4e2d\u7684\u53d8\u91cf\u7684\u503c\nclass App extends React.Component {\n  state = { count: 5 }\n  Change = (count) => {\n    this.setState({ count: count })\n  }\n  render() {\n    return (\n      <>\n        <Child1 onchange={this.Change}></Child1>                 //\u4e0a\u9762\u7684onchange\u4e3a\u6b64\u5904\u7684\u4e8b\u4ef6\n        <p>****************************************************************</p>\n        <Child2 count={this.state.count}></Child2>\n      </>\n    )\n  }\n}\n\n3\uff1a\u5b50\u7ec4\u4ef62\u7528props\u53bb\u63a5\u6536\u6570\u636e\n//\u51fd\u6570\u7ec4\u4ef6\nconst Child2 = (props) => {\n  return <p>{props.count}</p>\n}\n//\u7c7b\u7ec4\u4ef6\nclass Done extends Component {\n  render() {\n    return (\n      <>\n        <p>{this.props.msg}</p>       //\u63a5\u6536props\u6570\u636e\n      </>\n    );\n  }\n}\n")),(0,r.kt)("a",{name:"sGIJu"}),(0,r.kt)("h5",{id:"\u8de8\u7ea7\u7ec4\u4ef6\u95f4\u901a\u4fe1\u4f7f\u7528-context-\u5bf9\u8c61"},"\u8de8\u7ea7\u7ec4\u4ef6\u95f4\u901a\u4fe1\uff1a\u4f7f\u7528 context \u5bf9\u8c61"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'App.js\u4ee3\u7801\uff1a\nimport React, { Component } from \'react\';\nimport PropTypes from "prop-types";\nimport Sub from "./Sub";\nimport "./App.css";\nexport default class App extends Component{\n    // \u7236\u7ec4\u4ef6\u58f0\u660e\u81ea\u5df1\u652f\u6301 context\n    static childContextTypes = {\n        color:PropTypes.string,\n        callback:PropTypes.func,\n    }\n    // \u7236\u7ec4\u4ef6\u63d0\u4f9b\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u6765\u8fd4\u56de\u76f8\u5e94\u7684 context \u5bf9\u8c61\n    getChildContext(){\n        return{\n            color:"red",\n            callback:this.callback.bind(this)\n        }\n    }\n    callback(msg){\n        console.log(msg)\n    }\n    render(){\n        return(\n            <div>\n                <Sub></Sub>\n            </div>\n        );\n    }\n}\n\nSub.js\u4ee3\u7801\uff1a\nimport React from "react";\nimport SubSub from "./SubSub";\n\nconst Sub = (props) =>{\n    return(\n        <div>\n            <SubSub />\n        </div>\n    );\n}\nexport default Sub;\n\nSubSub.js\u4ee3\u7801\uff1a\nimport React,{ Component } from "react";\nimport PropTypes from "prop-types";\nexport default class SubSub extends Component{\n    // \u5b50\u7ec4\u4ef6\u58f0\u660e\u81ea\u5df1\u9700\u8981\u4f7f\u7528 context\n    static contextTypes = {\n        color:PropTypes.string,\n        callback:PropTypes.func,\n    }\n    render(){\n        const style = { color:this.context.color }\n        const cb = (msg) => {\n            return () => {\n                this.context.callback(msg);\n            }\n        }\n        return(\n            <div style = { style }>\n                SUBSUB\n                <button onClick = { cb("\u6211\u80e1\u6c49\u4e09\u53c8\u56de\u6765\u4e86\uff01") }>\u70b9\u51fb\u6211</button>\n            </div>\n        );\n    }\n}\n\n//\u89e3\u6784\u51fa createContext \u51fd\u6570\nimport React, { Component, createContext } from "react";\n// Provider\u63d0\u4f9b\u8005\uff0c\u4f9d\u8d56\n// Consumer\u6d88\u8d39\u8005\uff0c\u6ce8\u5165\nconst { Provider, Consumer } = createContext();\n\n//\u7528Provider\u6807\u7b7e\u5305\u88f9\u7236\u7ec4\u4ef6\uff0cProvider\u8fd8\u5fc5\u987b\u8981\u7531\u4e00\u4e2a\u5c5e\u6027value\u7528\u6765\u4f20\u53c2\uff0c\u53ef\u4ee5\u4f20\u53d8\u91cf\u6216\u8005\u51fd\u6570\nrender() {\n    return (\n      <Provider value={{ num: this.state.num }}>\n        <p>\u8fd9\u662f\u7236\u7ec4\u4ef6</p>\n        <Child1 />\n      </Provider>\n    );\n  }\n\n//\u5b50\u7ec4\u4ef6\u7528Consumer\u53bb\u63a5\u6536\uff0c\u91cc\u9762\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u53c2\u6570\u4e3aValue\n     <Consumer>\n          {(value) => (\n            <>\n              <button onClick={value.fn1}>-</button>\n              <span>{value.num}</span>\n              <button onClick={value.fn2}>+</button>\n            </>\n          )}\n    </Consumer>\n')),(0,r.kt)("a",{name:"BDxSB"}),(0,r.kt)("h5",{id:"\u7236\u7ec4\u4ef6\u8c03\u7528\u5b50\u7ec4\u4ef6\u7684\u65b9\u6cd5"},"\u7236\u7ec4\u4ef6\u8c03\u7528\u5b50\u7ec4\u4ef6\u7684\u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"\u5728 React \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 `ref` \u6765\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u5e76\u8c03\u7528\u5176\u65b9\u6cd5\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a\u5047\u8bbe\u6709\u4e00\u4e2a\u5b50\u7ec4\u4ef6 `Child`\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a `handleClick` \u65b9\u6cd5\uff1a\n\nclass Child extends React.Component {\n  handleClick() {\n    console.log('Child clicked')\n  }\n\n  render() {\n    return <button onClick={this.handleClick}>Child button</button>\n  }\n}\n\n\u73b0\u5728\u6211\u4eec\u60f3\u8981\u5728\u7236\u7ec4\u4ef6\u4e2d\u8c03\u7528 `Child` \u7ec4\u4ef6\u7684 `handleClick` \u65b9\u6cd5\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u7236\u7ec4\u4ef6\u4e2d\u521b\u5efa\u4e00\u4e2a `ref`\uff0c\u5728 `Child` \u7ec4\u4ef6\u4e0a\u5f15\u7528\u8fd9\u4e2a `ref`\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u7236\u7ec4\u4ef6\u4e2d\u8c03\u7528 `Child` \u7ec4\u4ef6\u7684 `handleClick` \u65b9\u6cd5\u4e86\u3002\n\nclass Parent extends React.Component {\n  childRef = React.createRef()\n\n  handleClick() {\n    this.childRef.current.handleClick()\n  }\n\n  render() {\n    return (\n      <div>\n        <Child ref={this.childRef} />\n        <button onClick={() => this.handleClick()}>Call child method</button>\n      </div>\n    )\n  }\n}\n\n\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u9996\u5148\u521b\u5efa\u4e86\u4e00\u4e2a `childRef`\uff0c\u7136\u540e\u5728 `Child` \u7ec4\u4ef6\u4e0a\u5f15\u7528\u8fd9\u4e2a `ref`\u3002\u5728\u7236\u7ec4\u4ef6\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a `handleClick` \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u901a\u8fc7 `childRef.current.handleClick()` \u8c03\u7528\u4e86 `Child` \u7ec4\u4ef6\u7684 `handleClick` \u65b9\u6cd5\u3002\u6700\u540e\uff0c\u6211\u4eec\u5728\u7236\u7ec4\u4ef6\u4e2d\u6e32\u67d3\u4e86\u4e00\u4e2a\u6309\u94ae\uff0c\u5f53\u70b9\u51fb\u8fd9\u4e2a\u6309\u94ae\u65f6\uff0c\u4f1a\u8c03\u7528 `handleClick` \u65b9\u6cd5\uff0c\u4ece\u800c\u89e6\u53d1 `Child` \u7ec4\u4ef6\u7684 `handleClick` \u65b9\u6cd5\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u53ea\u6709\u5728 `Child` \u7ec4\u4ef6\u6302\u8f7d\u5230 DOM \u4e2d\u540e\uff0c`childRef.current` \u624d\u4f1a\u6709\u503c\uff0c\u56e0\u6b64\u8981\u786e\u4fdd\u5728\u8c03\u7528 `handleClick` \u65b9\u6cd5\u4e4b\u524d `Child` \u7ec4\u4ef6\u5df2\u7ecf\u6302\u8f7d\u5230\u4e86 DOM \u4e2d\u3002\n")),(0,r.kt)("a",{name:"GBihK"}),(0,r.kt)("h1",{id:"\u5168\u5c40\u72b6\u6001\u7ba1\u7406-redux"},"\u5168\u5c40\u72b6\u6001\u7ba1\u7406 Redux"),(0,r.kt)("a",{name:"XaLlD"}),(0,r.kt)("h5",{id:"\u4f9d\u8d56\u5b89\u88c5"},"\u4f9d\u8d56\u5b89\u88c5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"yarn add redux react-redux redux-actions --save -D\n")),(0,r.kt)("a",{name:"LWSSG"}),(0,r.kt)("h5",{id:"\u521b\u5efa-reducers"},"\u521b\u5efa reducers"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// \u5b50reduce.js\u6587\u4ef6\nimport { handleActions } from "redux-actions";\n\nconst initialState = {\n  match: {\n    status: true,\n  },\n  count: 1,\n};\nexport default handleActions(\n  {\n    UPDATE_MATCH(state, action) {\n      return Object.assign({}, state, action.payload);\n    },\n    UPDATE_COUNT(state, action) {\n      return Object.assign({}, state, action.payload);\n    },\n  },\n  initialState\n);\n\n// \u4f7f\u7528index.js\u6587\u4ef6\uff0c\u805a\u5408\u6240\u6709\u6587\u4ef6\u5939\u7684reduce\nimport { combineReducers } from "redux";\nimport root from "./root";\n\nconst rootReducer = combineReducers({\n  root,\n});\n\nexport default rootReducer;\n')),(0,r.kt)("a",{name:"tsU7E"}),(0,r.kt)("h5",{id:"\u521b\u5efa-actions"},"\u521b\u5efa actions"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import { createAction } from "redux-actions";\n\nexport const updateMatch = createAction("UPDATE_MATCH");\n\nexport const updateCount = createAction("UPDATE_COUNT");\n')),(0,r.kt)("a",{name:"yUQkp"}),(0,r.kt)("h5",{id:"\u521b\u5efa-store"},"\u521b\u5efa store"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// src/store/index.js\nimport { createStore, applyMiddleware } from "redux";\nimport { routerMiddleware } from "react-router-redux";\nimport thunkMiddleware from "redux-thunk";\nimport logger from "redux-logger"; // \u65e5\u5fd7\nimport rootReducer from "../reducers";\n\nconst routeMiddleware = routerMiddleware();\n\nlet createStoreWithMiddleware;\nif (process.env.NODE_ENV !== "production") {\n  createStoreWithMiddleware = applyMiddleware(\n    thunkMiddleware,\n    routeMiddleware,\n    logger\n  )(createStore);\n} else {\n  createStoreWithMiddleware = applyMiddleware(\n    thunkMiddleware,\n    routeMiddleware\n  )(createStore);\n}\n\nconst store = createStoreWithMiddleware(rootReducer);\n\nexport default store;\n')),(0,r.kt)("a",{name:"OGKD6"}),(0,r.kt)("h5",{id:"\u7a7f\u900f\u6574\u4e2a\u9879\u76ee\u6587\u4ef6"},"\u7a7f\u900f\u6574\u4e2a\u9879\u76ee\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import React, { Suspense } from "react";\nimport ReactDOM from "react-dom/client";\nimport { Router, Switch, Redirect, Route } from "react-router-dom";\nimport history from "./utils/history";\nimport routes from "./router/config";\nimport { Provider } from "react-redux";\nimport store from "@store/configureStore";\n\nconst root = ReactDOM.createRoot(document.getElementById("app"));\nroot.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <Suspense fallback={<div>loading...</div>}>\n        <Switch>\n          {routes.map((item, index) => {\n            return (\n              <Route key={index} path={item.path} component={item.component} />\n            );\n          })}\n          <Redirect from="/*" to="/" />\n        </Switch>\n      </Suspense>\n    </Router>\n  </Provider>\n);\n')),(0,r.kt)("a",{name:"uW2M1"}),(0,r.kt)("h5",{id:"\u9879\u76ee\u6587\u4ef6\u4f7f\u7528"},"\u9879\u76ee\u6587\u4ef6\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import { useSelector, useDispatch } from "react-redux";\nimport { updateCount } from "@actions/root";\n\nconst Index = () => {\n  const dispatch = useDispatch();\n  const data = useSelector((state) => state);\n\n  const handleClick = () => {\n    dispatch(updateCount({ count: 2 }));\n    // console.log(data);\n  };\n\n  return (\n    <div className="about">\n      <button onClick={() => handleClick()}>\u6539\u53d8\u6570\u636e</button>\n    </div>\n  );\n};\n\nexport default Index;\n')),(0,r.kt)("a",{name:"q8Kdm"}),(0,r.kt)("h2",{id:"redux-\u5f02\u6b65\u64cd\u4f5c"},"redux \u5f02\u6b65\u64cd\u4f5c"),(0,r.kt)("a",{name:"gzYPk"}),(0,r.kt)("h5",{id:"\u5f02\u6b65\u64cd\u4f5c--redux-thunk-\u5e93"},"\u5f02\u6b65\u64cd\u4f5c- redux-thunk \u5e93"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//action\u5fc5\u987b\u662f\u6241\u5e73\u5316\u5bf9\u8c61\n1\u3001\u5b89\u88c5redux-thunk\u5e93\uff0c\u5e76\u4e14\u5728reducer\u7684index\u6587\u4ef6\u4e2d\u89e3\u6784applyMiddleware\n    $yarn add redux-thunk\n// applyMiddleware\u8868\u793a\u4e2d\u95f4\u4ef6\n    import { createStore, applyMiddleware } from "redux";\n//\u5f15\u5165redux-thunk\n    import thunk from "redux-thunk";\n// applyMiddleware\u6267\u884c\u7684\u65f6\u5019\u8981\u63a5\u6536\u4e00\u4e2a\u53c2\u6570, \u91cc\u9762\u63a5\u6536redux\u7684\u5f02\u6b65\u5e93\n    const store = createStore(reducer, applyMiddleware(thunk));\n\n2\u3001\u521b\u5efa\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\u53bb\u8c03\u7528\u540c\u6b65\u51fd\u6570\uff0c\u6539\u53d8\u6570\u636e\n    export const loadAsyncAction = () => {\n      // redux-thunk\u5f02\u6b65\u5e93\u5141\u8bb8\u6211\u4eec\u5728\u8fd9\u91ccreturn\u51fd\u6570\uff0c \u5e76\u4e14\u53ef\u4ee5\u63a5\u6536dispatch\u63a5\u6536\u53c2\u6570\n      // \u800c\u4e14\u8fd9\u4e2a\u51fd\u6570\u4f1a\u81ea\u52a8\u6267\u884c\n      return (dispatch) => {\n        // \u6570\u636e\u8bf7\u6c42\n        fetch(\n          "https://www.fastmock.site/mock/918b096c85edca5de807f1f8398af51e/api/list"\n        )\n          .then((response) => response.json())\n          .then((res) => {\n            dispatch(loadAction(res.list));\n          });\n      };\n    };\n    const loadAction = (payload) => {\n      return {\n        type: "load",\n        payload: payload,\n       };\n    };\n')),(0,r.kt)("a",{name:"XmDhe"}),(0,r.kt)("h1",{id:"react-router\u9ed8\u8ba4\u662f-history-\u6a21\u5f0f"},"React Router\uff08\u9ed8\u8ba4\u662f history \u6a21\u5f0f\uff09"),(0,r.kt)("a",{name:"V0VjA"}),(0,r.kt)("h5",{id:"\u57fa\u7840\u8def\u7531"},"\u57fa\u7840\u8def\u7531"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'1\u3001\u5b89\u88c5react-router-dom\n$yarn add react-router-dom\n2\u3001\u4ecereact-router-dom\u4e2d\u89e3\u6784 BrowserRouter,Link,Route,Switch\n// \u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u8981\u4f7f\u7528\u8def\u7531\uff0c\u8981\u5728\u6574\u4e2a\u9879\u76ee\u7684\u6700\u5916\u9762\u5957\u4e00\u4e2aBrowserRouter\u7ec4\u4ef6\n//\u5b9e\u73b0\u5730\u5740\u53d8\u5316\u4f7f\u7528Link\u7ec4\u4ef6\n//Route\u8981\u5339\u914d\u6e32\u67d3\uff0cpath\u5c5e\u6027\u548ccomponent\u5c5e\u6027\n//react\u7684\u8def\u7531\u9ed8\u8ba4\u662f\u5305\u5bb9\u6027\u8def\u7531\uff0c\u4f7f\u7528exact\u5c5e\u6027(\u7cbe\u51c6\u5339\u914d)\u6216\u8005Switch\u7ec4\u4ef6\u662f\u5c06\u8def\u7531\u53d8\u6210\u6392\u4ed6\u6027\u8def\u7531, \u5206\u652f\u5339\u914d\n    import React, { Component } from "react";\n    import { BrowserRouter, Link, Route, Switch } from "react-router-dom";\n\n    const Home = () => <div>home</div>;\n    const About = () => <div>About</div>;\n    const Topics = () => <div>Topics</div>;\n\n    class App extends Component {\n      state = {};\n      render() {\n        return (\n          <BrowserRouter>\n            <h1>\u4f60\u597d--\u8def\u7531</h1>\n            <ul>\n              <li>\n                <Link to="/home">home</Link>\n              </li>\n              <li>\n                <Link to="/about"> about</Link>\n              </li>\n              <li>\n                <Link to="topics">topics</Link>\n              </li>\n            </ul>\n            <Switch>\n              <Route path="/home" component={Home}></Route>\n              <Route path="/about" component={About}></Route>\n              <Route path="/topics" component={Topics}></Route>\n            </Switch>\n          </BrowserRouter>\n        );\n      }\n    }\n\n    export default App;\n')),(0,r.kt)("a",{name:"TvK9f"}),(0,r.kt)("h5",{id:"\u5d4c\u5957\u8def\u7531"},"\u5d4c\u5957\u8def\u7531"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u5f15\u5165\u6a21\u5757\nimport React, { Component } from "react";\nimport { BrowserRouter, Link, Route, Switch } from "react-router-dom";\n//\u6839\u8def\u7531\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <h1>\u8def\u7531\u5d4c\u5957</h1>\n        <ul>\n          <li>\n            <Link to="/home">home</Link>\n          </li>\n          <li>\n            <Link to="/about">about</Link>\n          </li>\n          <li>\n            <Link to="/topics">Topics</Link>\n          </li>\n        </ul>\n        <Switch>\n          <Route path="/home" component={Home} />\n          <Route path="/about" component={About} />\n          <Route path="/topics" component={Topics} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n\n//\u4e00\u7ea7\u8def\u7531\nconst About = () => {\n  return <div>about</div>;\n};\nconst Topics = () => {\n  return <div>topics</div>;\n};\n\n//\u5d4c\u5957\u5b50\u8def\u7531\nconst HomeFirst = () => <div>home-first</div>;\nconst HomeSec = () => <div>home-sec</div>;\nconst HomeThree = () => <div>home-three</div>;\n//\u5d4c\u5957\u8def\u7531\nconst Home = () => {\n  return (\n    <div>\n      <h1>home</h1>\n\n      <ul>\n        <li>\n          <Link to="/home/home-first">home-first</Link>\n        </li>\n        <li>\n          <Link to="/home/home-sec">home-sec</Link>\n        </li>\n        <li>\n          <Link to="/home/home-three">home-three</Link>\n        </li>\n      </ul>\n      <Switch>\n        <Route path="/home/home-first" component={HomeFirst} />\n        <Route path="/home/home-sec" component={HomeSec} />\n        <Route path="/home/home-three" component={HomeThree} />\n      </Switch>\n    </div>\n  );\n};\n')),(0,r.kt)("a",{name:"xgnvm"}),(0,r.kt)("h5",{id:"\u52a8\u6001\u53c2\u6570"},"\u52a8\u6001\u53c2\u6570"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import React, { Component } from "react";\nimport { BrowserRouter, Link, Route, Switch } from "react-router-dom";\n\nconst Home = () => <div>home</div>;\nconst Topics = (props) => {\n  //\u83b7\u53d6\u4f20\u8fc7\u6765\u7684id\uff1a props.match.params.id\n  return <div> topics-id :{props.match.params.id} </div>;\n};\n\nclass App extends Component {\n  state = {};\n  render() {\n    return (\n      <BrowserRouter>\n        <h1>\u4f60\u597d--\u52a8\u6001\u8def\u7531</h1>\n        <ul>\n          <li>\n            <Link to="/home">home</Link>\n          </li>\n          <li>\n            <Link to="/topics/1">Topics1</Link>\n          </li>\n          <li>\n            <Link to="/topics/2">Topics2</Link>\n          </li>\n        </ul>\n        <Switch>\n          <Route path="/home" component={Home}></Route>\n          <Route path="/topics/:id" component={Topics}></Route>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n')),(0,r.kt)("a",{name:"YL8vq"}),(0,r.kt)("h5",{id:"\u8def\u7531\u6e32\u67d3"},"\u8def\u7531\u6e32\u67d3"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u5728Route\u91cc\u9762\u8981\u6e32\u67d3\u7ec4\u4ef6\uff0c\u8981\u7528component\u5c5e\u6027\n//\u9664\u4e86component\u5c5e\u6027,\u8fd8\u53ef\u4ee5\u7528render\u5c5e\u6027\u6765\u6e32\u67d3\u7ec4\u4ef6;render\u53ea\u80fd\u6e32\u67d3\u51fd\u6570\u7ec4\u4ef6\u4e0d\u80fd\u6e32\u67d3\u7c7b\u7ec4\u4ef6\u3001\u4e0d\u80fd\u76f4\u63a5\u83b7\u53d6\u8def\u7531\u4fe1\u606f\uff1b\n//\u6539\u5199\u5e76\u83b7\u5f97\u8def\u7531\u4fe1\u606f\uff1a\n<Route path="/home" render={(props) => <Home {...props} />}></Route>\n//\u8fd8\u53ef\u4ee5\u7528chilren\u5c5e\u6027\u53bb\u6e32\u67d3;children\u5c5e\u6027\u4e5f\u53ea\u80fd\u6e32\u67d3\u51fd\u6570\u7ec4\u4ef6;\u4e0d\u7ba1path\u662f\u5426\u5339\u914d\u90fd\u6e32\u67d3, \u4e00\u822c\u4f1a\u548cSwitch\u4e00\u8d77\u4f7f\u7528\n//\u8fd8\u53ef\u4ee5\u5c06\u7ec4\u4ef6\u76f4\u63a5\u5199\u5728Route\u7ec4\u4ef6\u7684\u4e2d\u95f4\u800c\u4e0d\u4f7f\u7528component\u5c5e\u6027;\u8fd9\u79cd\u5199\u6cd5\u62ff\u4e0d\u5230\u8def\u7531\u4fe1\u606f\n')),(0,r.kt)("a",{name:"BNYHh"}),(0,r.kt)("h5",{id:"\u8def\u7531\u91cd\u5b9a\u5411"},"\u8def\u7531\u91cd\u5b9a\u5411"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u89e3\u6784 Redirect \u7ec4\u4ef6\n//\u642d\u914dswitch\u7ec4\u4ef6\u4f7f\u7528exact\u5c5e\u6027\u7cbe\u51c6\u5339\u914d\n<Switch>\n  <Redirect from="/" to="/home" exact></Redirect>\n</Switch>\n')),(0,r.kt)("a",{name:"AdhAT"}),(0,r.kt)("h5",{id:"\u8def\u7531\u9274\u6743"},"\u8def\u7531\u9274\u6743"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u5728Route\u7ec4\u4ef6\u4e2d\uff0c\u4f7f\u7528render\u6e32\u67d3\u51fd\u6570\u7ec4\u4ef6\uff0c\u8fd4\u56de\u7ed3\u679c\u524d\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\u5219\u4f7f\u7528\u91cd\u5b9a\u5411(Redirect)\u53e6\u4e00\u4e2a\u9875\u9762\n<Switch>\n  <Route path="/userCenter"\n    render={() => { localStorage.getItem("token") \uff1f<userCenter /> \uff1a<Redirect to="/login"> </Redirect> } ></Route>  // \u9274\u6743\n  <Route path="/login" component={Login}></Route>\n  <Route path="*" component={NotFound}></Route>   //404\u8def\u7531\uff0c\u4f7f\u7528\u7684\u65f6\u5019\u914d\u5408Switch\u7ec4\u4ef6\uff0c\u5e76\u4e14\u5199\u5728\u6700\u540e\n</Switch>\n')),(0,r.kt)("a",{name:"eTunv"}),(0,r.kt)("h5",{id:"navlink-\u6807\u7b7e"},"Navlink \u6807\u7b7e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//Navlink\u4e5f\u662f\u7528\u6765\u505a\u8def\u7531\u8df3\u8f6c\u7684\uff0c\u53ef\u4ee5\u5b8c\u5168\u53d6\u4ee3 link \uff0c\u6bd4link\u591a\u4e86\u4e2acss\u9ad8\u4eae\u7684\u6548\u679c\uff0c\u9ed8\u8ba4\u7c7b\u540d\u4e3aactive\n//\u89e3\u6784Navlink\u7ec4\u4ef6\n    import {  NavLink } from "react-router-dom";\n//\u4f7f\u7528\u7684\u65f6\u5019\u9700\u8981\u7cbe\u51c6\u5339\u914d\n    <li><NavLink to="/home" exact >home</NavLink></li>\n//\u4f7f\u7528activeClassName\u5c5e\u6027\u4fee\u6539\u9ed8\u8ba4\u7c7b\u540d\n   <li><NavLink to="/home" exact activeClassName = "abc" >home</NavLink></li>\n//\u4f7f\u7528activeStyle\u5c5e\u6027\u4fee\u6539\u9009\u4e2d\u65f6\u6837\u5f0f\n   <li><NavLink to="/home" exact activeStyle = {{color : red }} >home</NavLink></li>\n')),(0,r.kt)("a",{name:"JJ6qz"}),(0,r.kt)("h5",{id:"\u8def\u7531\u4f20\u53c2"},"\u8def\u7531\u4f20\u53c2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'1\u3001\u52a8\u6001\u53c2\u6570\n// props.match.params.id\n\n2\u3001url\u4f20\u53c2\n    <Link to="/topics/2" search:"?a=3&b=4" >About</Link>\n//\u4f7f\u7528H5\u81ea\u5e26\u7684URLSearchParams\u4e2d\u7684get()\u65b9\u6cd5\u53bb\u5339\u914d\u53d6\u51fa\u53c2\u6570\n    const About = (props) => {\n      const {\n        location: { search },\n      } = props;\n      const a = new URLSearchParams(search);\n      console.log(a.get("a"));\n      return <div>about</div>;\n    };\n\n3\u3001state\u4f20\u53c2\n    <Link to="/topics/2" state:{msg:"hello"} >Topics2</Link>\n//\u5728\u8be5\u4f20\u53c2\u7684\u7ec4\u4ef6\u4e2d\u6253\u5370 props.location \u83b7\u53d6\u53c2\u6570\n    const Topics = (props) => {\n      console.log(props.location);\n      return <div>Topics</div>;\n    };\n')),(0,r.kt)("a",{name:"ORHSM"}),(0,r.kt)("h1",{id:"\u61d2\u52a0\u8f7d-lazy"},"\u61d2\u52a0\u8f7d Lazy"),(0,r.kt)("a",{name:"hTARF"}),(0,r.kt)("h5",{id:"import-\u51fd\u6570"},"import \u51fd\u6570"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'//import \u547d\u4ee4\nimport { add } from "./math";\nconsole.log(add(16, 26));\n\n//import\u51fd\u6570\nimport("./math").then((math) => {\n  console.log(math.add(16, 26));\n});\n')),(0,r.kt)("a",{name:"aqNBf"}),(0,r.kt)("h5",{id:"lazy-\u51fd\u6570\u548c-suspense-\u7ec4\u4ef6-\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528"},"lazy \u51fd\u6570\u548c Suspense \u7ec4\u4ef6-\u7ec4\u4ef6\u4e2d\u7684\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'1\u3001\u89e3\u6784lazy\u3001Suspense\n    import { lazy, Suspense } from "react";\n2\u3001\u4f7f\u7528lazy\u914d\u5408import\u5f15\u5165\u7ec4\u4ef6\n    const Child = lazy(() => import("./Child"));\n3\u3001\u4f7f\u7528Supense\u5305\u88f9\u5143\u7d20\uff0c\u5207Supense\u4e2d\u8fd8\u6709\u4e2a\u5c5e\u6027 fallback \uff0c\u91cc\u9762\u5199\u4e00\u4e2a\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u663e\u793a\u5185\u5bb9\u7684\u7ec4\u4ef6\n    <Suspense fallback={<div>loading...</div>}>\n      {this.state.isShow && <Child />}\n    </Suspense>\n')),(0,r.kt)("a",{name:"DWHxh"}),(0,r.kt)("h5",{id:"lazy-\u51fd\u6570\u548c-suspense-\u7ec4\u4ef6-\u8def\u7531\u4e2d\u7684\u4f7f\u7528"},"lazy \u51fd\u6570\u548c Suspense \u7ec4\u4ef6-\u8def\u7531\u4e2d\u7684\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const Home = lazy(() => import("./Home"));\nconst About = lazy(() => import("./About"));\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <ul>\n          <li>\n            <Link to="/home">home</Link>\n          </li>\n          <li>\n            <Link to="/about">about</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>loading...</div>}>\n          <Switch>\n            <Route path="/home" component={Home}></Route>\n            <Route path="/about" component={About}></Route>\n          </Switch>\n        </Suspense>\n      </BrowserRouter>\n    );\n  }\n}\n')),(0,r.kt)("a",{name:"Kfxci"}),(0,r.kt)("h1",{id:"\u88c5\u9970\u5668"},"\u88c5\u9970\u5668"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'1\u3001\u4e0b\u8f7d\u5b89\u88c5\u4f9d\u8d56\nyarn add @babel/core @babel/plugin-proposal-decorators @babel/preset-env\n\n2\u3001\u521b\u5efa .babelrc\n{\n  "presets": [\n    "@babel/preset-env"\n  ],\n    "plugins": [\n      [\n        "@babel/plugin-proposal-decorators",\n        {\n          "legacy": true\n        }\n      ]\n    ]\n}\n\n3\u3001\u521b\u5efaconfig-overrides.js\nconst path = require(\'path\')\nconst { override, addDecoratorsLegacy } = require(\'customize-cra\')\n\nfunction resolve(dir) {\n  return path.join(__dirname, dir)\n}\n\nconst customize = () => (config, env) => {\n  config.resolve.alias[\'@\'] = resolve(\'src\')\n  if (env === \'production\') {\n    config.externals = {\n      \'react\': \'React\',\n      \'react-dom\': \'ReactDOM\'\n    }\n  }\n\n  return config\n};\nmodule.exports = override(addDecoratorsLegacy(), customize())\n\n4\u3001\u5b89\u88c5\u4f9d\u8d56\nyarn add customize-cra react-app-rewired\n\n5\u3001\u4fee\u6539package.json\n  ...\n  "scripts": {\n    "start": "react-app-rewired start",\n      "build": "react-app-rewired build",\n        "test": "react-app-rewired test",\n          "eject": "react-app-rewired eject"\n  },\n    ...\n\n    6\u3001\u4f7f\u7528withRoute\n    import { withRouter } from "react-router-dom";\n//\u5728\u9700\u8981\u83b7\u5f97\u8def\u7531\u4fe1\u606f\u7684\u7ec4\u4ef6\u524d\u4f7f\u7528\n    @withRoute\n')),(0,r.kt)("a",{name:"yk5Fn"}),(0,r.kt)("h2",{id:"\u79fb\u52a8\u7aef\u9002\u914d"},"\u79fb\u52a8\u7aef\u9002\u914d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'1\u3001\u5728config-overrides.js\u4e2d\u7684customize-cra\u53bb\u914d\u7f6e\uff0ccustomize-cra\u662f\u4e00\u4e2aNPM\u5305\uff0c\u7528\u6765\u505awebpack\u7684\u914d\u7f6e\uff1b\n2\u3001\u4e0b\u8f7d\u63d2\u4ef6 postcss-px2rem\n3\u3001\u4fee\u6539config-overrides.js\u6587\u4ef6(\u65b0\u589e\u4ee5\u4e0b\u5185\u5bb9)\n    const {addPostcssPlugins } = require("customize-cra");\n    module.exports = override(\n      addPostcssPlugins([require("postcss-px2rem")({ remUnit: 37.5 })])\n    );\n')),(0,r.kt)("a",{name:"A5dUR"}),(0,r.kt)("h1",{id:"hoc-\u9ad8\u9636\u7ec4\u4ef6"},"HOC \u9ad8\u9636\u7ec4\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// \u9ad8\u9636\u7ec4\u4ef6=>\u51fd\u6570\uff0c \u4f20\u5165\u4e00\u4e2a\u7ec4\u4ef6(\u51fd\u6570\u7ec4\u4ef6\u3001\u7c7b\u7ec4\u4ef6)\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7ec4\u4ef6\n// \u4f5c\u7528\uff1a \u589e\u5f3a\u7ec4\u4ef6\u7684\u529f\u80fd\uff0c\u590d\u7528\n//\u5c01\u88c5\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6js\u6587\u4ef6\nconst withHoc = (Comp) => {\n  return class extends Component {\n    render() {\n      console.log(this.props);\n      return (\n        <>\n          <Comp msg="hello" {...this.props} /> //\u5c55\u5f00\u5408\u5e76\u539f\u6709\u5c5e\u6027\n        </>\n      );\n    }\n  };\n};\n\n//\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u4f7f\u7528\nexport default withHoc(App);\n')),(0,r.kt)("a",{name:"rgtE3"}),(0,r.kt)("h1",{id:"\u6838\u5fc3\u8bbe\u8ba1virtual-dom-\u548c-diff-\u7b97\u6cd5"},"\u6838\u5fc3\u8bbe\u8ba1\uff08Virtual DOM \u548c Diff \u7b97\u6cd5\uff09"),(0,r.kt)("a",{name:"GawsM"}),(0,r.kt)("h5",{id:"react-\u865a\u62df-domvirtual-dom"},"React \u865a\u62df DOM\uff08Virtual DOM\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},"React\u63d0\u51fa\u7684\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u5b83\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684JavaScript\u5bf9\u8c61\uff0c\u7528\u6765\u63cf\u8ff0\u771f\u5b9eDOM\u7684\u7ed3\u6784\u548c\u5c5e\u6027\u3002React\u901a\u8fc7\u6bd4\u8f83\u865a\u62dfDOM\u7684\u5dee\u5f02\uff0c\u8ba1\u7b97\u51fa\u9700\u8981\u66f4\u65b0\u7684\u90e8\u5206\uff0c\u7136\u540e\u518d\u5c06\u8fd9\u4e9b\u90e8\u5206\u66f4\u65b0\u5230\u771f\u5b9eDOM\u4e0a\u3002React\u865a\u62dfDOM\u7684\u539f\u7406\u662f\uff1a\n1. \u9996\u5148\uff0cReact\u5c06\u7ec4\u4ef6\u7684\u72b6\u6001\u548c\u5c5e\u6027\u4f20\u5165\u7ec4\u4ef6\u7684render\u65b9\u6cd5\uff0c\u5f97\u5230\u4e00\u4e2a\u865a\u62dfDOM\u6811\u3002 2.\n\u5f53\u7ec4\u4ef6\u7684\u72b6\u6001\u6216\u5c5e\u6027\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u4f1a\u518d\u6b21\u8c03\u7528render\u65b9\u6cd5\u5f97\u5230\u65b0\u7684\u865a\u62dfDOM\u6811\u3002 3.\nReact\u4f1a\u5c06\u65b0\u65e7\u4e24\u68f5\u865a\u62dfDOM\u6811\u8fdb\u884c\u6bd4\u8f83\uff0c\u5f97\u5230\u5b83\u4eec\u7684\u4e0d\u540c\u4e4b\u5904\u3002 4.\nReact\u4f1a\u5c06\u8fd9\u4e9b\u4e0d\u540c\u4e4b\u5904\u8bb0\u5f55\u4e0b\u6765\uff0c\u7136\u540e\u6279\u91cf\u7684\u66f4\u65b0\u5230\u771f\u5b9e\u7684DOM\u6811\u4e0a\u3002\nReact\u901a\u8fc7\u865a\u62dfDOM\u6811\u7684\u6bd4\u8f83\uff0c\u907f\u514d\u4e86\u76f4\u63a5\u64cd\u4f5c\u771f\u5b9eDOM\u6811\u5e26\u6765\u7684\u6027\u80fd\u95ee\u9898\uff0c\u56e0\u4e3a\u76f4\u63a5\u64cd\u4f5c\u771f\u5b9eDOM\u6811\u4f1a\u5e26\u6765\u5927\u91cf\u7684\u91cd\u6392\u548c\u91cd\u7ed8\uff0c\u800cReact\u7684\u865a\u62dfDOM\u6811\u7684\u6bd4\u8f83\u548c\u66f4\u65b0\u662f\u57fa\u4e8eJavaScript\u5bf9\u8c61\u8fdb\u884c\u7684\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u9875\u9762\u7684\u91cd\u6392\u548c\u91cd\u7ed8\u3002\n\u603b\u7ed3\u8d77\u6765\uff0cReact\u865a\u62dfDOM\u7684\u539f\u7406\u5c31\u662f\uff1a\u901a\u8fc7\u6bd4\u8f83\u865a\u62dfDOM\u6811\u7684\u4e0d\u540c\uff0c\u6279\u91cf\u7684\u66f4\u65b0\u771f\u5b9e\u7684DOM\u6811\uff0c\u4ece\u800c\u63d0\u9ad8\u9875\u9762\u7684\u6027\u80fd\u3002\n")),(0,r.kt)("a",{name:"vlrTv"}),(0,r.kt)("h5",{id:"react-diff-\u7b97\u6cd5"},"React Diff \u7b97\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"React Diff\u662fReact\u4e2d\u7528\u4e8e\u66f4\u65b0Virtual DOM\u7684\u7b97\u6cd5\u5b83\u7684\u76ee\u7684\u662f\u5728\u6700\u5c0f\u5316DOM\u64cd\u4f5c\u7684\u540c\u65f6\uff0c\u5c3d\u53ef\u80fd\u5feb\u5730\u66f4\u65b0\u7ec4\u4ef6\u3002\u5b83\u901a\u8fc7\u6bd4\u8f83Virtual DOM\u6811\u7684\u524d\u540e\u4e24\u4e2a\u72b6\u6001\u6765\u786e\u5b9a\u54ea\u4e9b\u90e8\u5206\u9700\u8981\u66f4\u65b0\u3002\n\nReact Diff\u7b97\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u662f\u5c3d\u53ef\u80fd\u5730\u590d\u7528\u5df2\u6709\u7684DOM\u8282\u70b9\u3002\u5f53Virtual DOM\u4e2d\u7684\u67d0\u4e2a\u8282\u70b9\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact\u4f1a\u5148\u6bd4\u8f83\u8be5\u8282\u70b9\u7684\u5c5e\u6027\u548c\u5b50\u8282\u70b9\u662f\u5426\u6709\u53d8\u5316\uff0c\u5982\u679c\u6ca1\u6709\u53d8\u5316\uff0c\u5219\u76f4\u63a5\u590d\u7528\u8be5\u8282\u70b9\u3002\u5982\u679c\u6709\u53d8\u5316\uff0c\u5219\u4f1a\u5728\u8be5\u8282\u70b9\u7684\u7236\u8282\u70b9\u4e0b\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8282\u70b9\uff0c\u5e76\u5c06\u65b0\u7684\u5c5e\u6027\u548c\u5b50\u8282\u70b9\u8d4b\u503c\u7ed9\u8be5\u8282\u70b9\u3002\n\nReact Diff\u7b97\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u548c\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u3002\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u662f\u6307\u5148\u6bd4\u8f83\u7236\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c\u5982\u679c\u5b50\u8282\u70b9\u6709\u53d8\u5316\uff0c\u5219\u9012\u5f52\u6bd4\u8f83\u5b50\u8282\u70b9\u7684\u5b50\u8282\u70b9\u3002\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u662f\u6307\u5148\u6bd4\u8f83\u540c\u7ea7\u8282\u70b9\uff0c\u5982\u679c\u540c\u7ea7\u8282\u70b9\u6709\u53d8\u5316\uff0c\u5219\u9012\u5f52\u6bd4\u8f83\u5b50\u8282\u70b9\u3002\n\nReact Diff\u7b97\u6cd5\u7684\u4f18\u5316\u7b56\u7565\u5305\u62ec\uff1akey\u5c5e\u6027\u7684\u4f7f\u7528\u3001\u7ec4\u4ef6\u7684shouldComponentUpdate\u65b9\u6cd5\u3001\u4f7f\u7528Immutable.js\u7b49\u3002\u5176\u4e2d\uff0ckey\u5c5e\u6027\u7684\u4f7f\u7528\u662f\u6700\u5e38\u7528\u7684\u4f18\u5316\u7b56\u7565\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9React\u66f4\u51c6\u786e\u5730\u5224\u65ad\u54ea\u4e9b\u8282\u70b9\u9700\u8981\u66f4\u65b0\uff0c\u4ece\u800c\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684DOM\u64cd\u4f5c\u3002\n\nReact Diff\u7b97\u6cd5\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a\n1. \u5148\u5224\u65ad\u4e24\u4e2a\u8282\u70b9\u662f\u5426\u76f8\u7b49\uff0c\u5982\u679c\u76f8\u7b49\uff0c\u5c31\u4e0d\u9700\u8981\u66f4\u65b0\u3002\n2. \u5982\u679c\u4e24\u4e2a\u8282\u70b9\u7c7b\u578b\u4e0d\u540c\uff0c\u5219\u76f4\u63a5\u66ff\u6362\u8282\u70b9\u3002\n3. \u5982\u679c\u8282\u70b9\u7c7b\u578b\u76f8\u540c\uff0c\u4f46\u662f\u8282\u70b9\u5c5e\u6027\u4e0d\u540c\uff0c\u5219\u66f4\u65b0\u8282\u70b9\u5c5e\u6027\u3002\n4. \u5982\u679c\u8282\u70b9\u7c7b\u578b\u76f8\u540c\uff0c\u4f46\u662f\u5b50\u8282\u70b9\u4e0d\u540c\uff0c\u5219\u4f7f\u7528\u9012\u5f52\u7684\u65b9\u5f0f\u8fdb\u884c\u66f4\u65b0\u3002\nReact Diff\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(n)\uff0c\u5176\u4e2dn\u4e3aVirtual DOM\u6811\u4e2d\u8282\u70b9\u7684\u6570\u91cf\u3002\u7531\u4e8eReact Diff\u7b97\u6cd5\u80fd\u591f\u907f\u514d\u4e0d\u5fc5\u8981\u7684DOM\u64cd\u4f5c\uff0c\u56e0\u6b64\u53ef\u4ee5\u5927\u5927\u63d0\u9ad8\u7ec4\u4ef6\u66f4\u65b0\u7684\u6027\u80fd\u3002\n")))}d.isMDXComponent=!0},6941:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/react1-02cba35d13c13c3a72e3decf4d790041.jpeg"},3701:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/react2-4bd92610af54ba9a606616ed4c3b9b0a.jpeg"}}]);